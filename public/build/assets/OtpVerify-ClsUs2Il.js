import{r as o,W as R,j as e}from"./app-B53CBMZt.js";import{F as d}from"./index-tkf097Vn.js";import{R as S,C as O}from"./row-BTV3FN5r.js";import{I as A}from"./index-D-g7jwz2.js";import{I as T,_ as V,B as z,T as B}from"./index-CJkcEAEE.js";import"./EyeOutlined-ggALyYVw.js";import"./SearchOutlined-c9XxVT2X.js";var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},E=function(c,s){return o.createElement(T,V({},c,{ref:s,icon:D}))},L=o.forwardRef(E);const{Title:F,Text:p,Link:H}=B;function q(){const{data:y,setData:c,post:s,processing:v,errors:h}=R({otp:""}),[a,j]=o.useState(new Array(6).fill("")),[f,x]=o.useState(!1),[b,m]=o.useState(30),i=o.useRef([]),w=(r,t)=>{var g;const{value:n}=r;if(isNaN(n))return;let l=[...a];l[t]=n,j(l),c("otp",l.join("")),n&&t<i.current.length-1&&((g=i.current[t+1])==null||g.focus())},k=(r,t)=>{var n;r.key==="Backspace"&&a[t]===""&&t>0&&((n=i.current[t-1])==null||n.focus())},C=()=>{s(route("otp.check"))},I=()=>{if(!f){s(route("otp.resend")),x(!0),m(30);const r=setInterval(()=>{m(t=>t===1?(clearInterval(r),x(!1),30):t-1)},1e3)}};return e.jsx("div",{style:u.container,children:e.jsxs("div",{style:u.innerContainer,children:[e.jsx(F,{level:3,style:{textAlign:"center"},children:"Account Verification"}),e.jsx(p,{type:"secondary",style:{display:"block",textAlign:"center",marginBottom:"20px"},children:"Enter the 6-Digit PIN sent to your registered Email"}),e.jsxs(d,{onFinish:C,layout:"vertical",children:[e.jsxs(d.Item,{children:[e.jsx(S,{gutter:8,justify:"center",children:a.map((r,t)=>e.jsx(O,{span:4,children:e.jsx(A,{maxLength:1,style:u.otpInput,value:a[t],ref:n=>i.current[t]=n,onChange:n=>w(n.target,t),onKeyDown:n=>k(n,t),onFocus:n=>n.target.select()})},t))}),h.otp&&e.jsx(p,{type:"danger",children:h.otp})]}),e.jsx(d.Item,{children:e.jsx(z,{type:"primary",htmlType:"submit",block:!0,icon:e.jsx(L,{}),loading:v,children:"Submit"})})]}),e.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:e.jsxs(p,{type:"secondary",children:["Didnâ€™t receive the code?"," ",f?e.jsxs("span",{children:["Resend available in ",b," seconds"]}):e.jsx(H,{onClick:I,children:"Send again"})]})})]})})}const u={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f0f2f5"},innerContainer:{width:"100%",maxWidth:"400px",padding:"20px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},otpInput:{textAlign:"center",fontSize:"24px",padding:"8px",borderRadius:"12px",border:"1px solid #d9d9d9",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}};export{q as default};
