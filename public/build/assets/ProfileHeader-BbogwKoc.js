import{r as s,j as e,a as g,b as u}from"./app-qL-fdGey.js";import{C as j}from"./index-D36folzA.js";import{A as b}from"./index-C-Pv2VtD.js";import{R as w}from"./UserOutlined-BIWhzec7.js";import{U as y}from"./index-qdnwg9BK.js";import{T as m}from"./index-p-iUvWS7.js";import{B as n}from"./button-BfZ4ATKu.js";import{I as d,_ as p}from"./KeyCode-BcMkxFvq.js";import{R as c}from"./CheckCircleFilled-DRkdd0YH.js";import{s as i}from"./index-g-LoenzQ.js";import"./index-CC9fO9kx.js";import"./Skeleton-C4LSj1PC.js";import"./EllipsisOutlined-CIEFkY4E.js";import"./responsiveObserver-5zExmYE5.js";import"./asyncToGenerator-Dbx0A25t.js";import"./useBreakpoint-27WuVI5t.js";import"./colors-CF-IU4tS.js";import"./useZIndex-S1lHx0GG.js";import"./collapse-BbEVqHco.js";import"./fade-DUlxjhZa.js";import"./EyeOutlined-DeG1pMF8.js";import"./progress-COXIOWvu.js";import"./compact-item-DQdXs6GY.js";import"./render-CANeGeGv.js";import"./context-DjqbUx1D.js";import"./InfoCircleFilled-D4JZBJsP.js";var N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},z=function(t,o){return s.createElement(d,p({},t,{ref:o,icon:N}))},R=s.forwardRef(z),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},E=function(t,o){return s.createElement(d,p({},t,{ref:o,icon:_}))},H=s.forwardRef(E);function ae({user:a}){const[t,o]=s.useState(a.avatar?`/storage/avatars/${a.avatar}`:"/default_avatar1.png"),f=async({file:x,onSuccess:v,onError:h})=>{const l=new FormData;l.append("avatar",x);try{const r=await u.post(route("profile.updateAvatar"),l,{headers:{"Content-Type":"multipart/form-data"}});o(r.data.avatar),i.success(r.data.message),v(r.data)}catch(r){console.error("Avatar upload error:",r),r.response?(console.error("Server responded with:",r.response.data),i.error(r.response.data.message||r.response.data.error||"Failed to upload avatar")):r.request?(console.error("No response received:",r.request),i.error("No response from server")):(console.error("Error setting up request:",r.message),i.error("Error uploading avatar")),h(r)}};return e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(j,{bordered:!1,className:"flex items-center bg-gradient-to-br from-red-400 via-blue-500 to-yellow-400 text-white p-6 rounded-t-lg relative shadow-lg",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx(b,{src:t,size:100,icon:e.jsx(w,{}),alt:"User Avatar",className:"object-cover border-4 border-white shadow-md"}),e.jsx(y,{name:"avatar",accept:"image/*",showUploadList:!1,customRequest:f,children:e.jsx(m,{title:"Change Avatar",children:e.jsx(n,{icon:e.jsx(R,{}),className:"absolute bottom-0 right-0 bg-gray-800 p-2 rounded-full text-white hover:bg-gray-700",style:{position:"absolute",bottom:"-3px",right:"5px",zIndex:10}})})})]}),e.jsxs("div",{className:"ml-4 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("h1",{className:"text-xl font-semibold mr-2",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),a.account_status==="verified"&&e.jsx(c,{style:{color:"yellow",fontSize:"16px"}})]}),!a.email_verified_at&&e.jsx(g,{href:route("verification.notice"),className:"ml-auto",children:e.jsx(n,{type:"primary",icon:e.jsx(H,{}),className:"bg-yellow-500 hover:bg-yellow-600 border-none text-white flex items-center",children:"Verify Email"})})]}),e.jsxs("p",{className:"text-gray-200",children:[a==null?void 0:a.email,a.email_verified_at&&e.jsx(m,{title:"Email Verified",children:e.jsx(c,{className:"ml-2",style:{color:"lightgreen"}})})]})]})]})})}export{ae as default};
