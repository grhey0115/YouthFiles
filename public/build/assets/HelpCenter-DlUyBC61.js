import{r as u,G as x,q as oe,W as U,j as a}from"./app-DbgwDCQR.js";import{A as Pe}from"./AuthenticatedLayout-wAnVCWe8.js";import{d as Y}from"./styled-components.browser.esm-CmsYJgRE.js";import{T as B}from"./index-DusIXW1R.js";import{R as ne,C as G}from"./row-CmTRvdGv.js";import{R as Te,a as ae}from"./UploadOutlined-Dbn9A8OL.js";import{A as H,k as Ie,l as z,B as _e,r as Ne,m as qe,E as Be,C as X,o as ce,p as _,F as Me,G as Fe,H as le,q as De,I as pe,_ as de}from"./KeyCode-B98qwEHk.js";import{M as W}from"./index-CoH_l0tO.js";import{C as ue}from"./index-aEjf0pBo.js";import{I}from"./index-DZ6KHcTM.js";import{B as L}from"./button-BeIDC77s.js";import{U as re}from"./index-CWPrh4N9.js";import{R as Le}from"./PhoneOutlined-DwfgFiR6.js";import{S as M}from"./index-Dr5FKUpM.js";import{r as He}from"./render-BXyLa_zz.js";import{N as ze,u as Ae,a as Ge,A as ke}from"./context-DlbZ9Qay.js";import{R as Ve}from"./CheckCircleFilled-CqKSgjp8.js";import{C as Ue,R as We}from"./useZIndex-tLrB1ewf.js";import{R as Ke}from"./CloseOutlined-DIR-yomB.js";import{R as Ye}from"./ExclamationCircleFilled-DEhqqzrm.js";import{R as Xe}from"./InfoCircleFilled-DCKnBfB8.js";import"./asyncToGenerator-1ZsjUJVg.js";import"./EllipsisOutlined-DDu3pgoy.js";import"./index-BFTNhID1.js";import"./index-CoGEig71.js";import"./responsiveObserver-2YMebKjr.js";import"./compact-item-e1NxggHa.js";import"./colors-DJ9azOgj.js";import"./collapse-BbEVqHco.js";import"./UserOutlined-CN0QnvMs.js";import"./SettingOutlined-DkPiynSm.js";import"./PurePanel-DY_vS5pl.js";import"./HomeOutlined-C7PNhMil.js";import"./index-BDhiJVo3.js";import"./useBreakpoint-B1vn5vaL.js";import"./useClosable-BI8GR9gs.js";import"./Skeleton-CDkIKx5f.js";import"./CalendarOutlined-CJm5NcVw.js";import"./EditOutlined-CcOrQ41O.js";import"./fade-DyWzk-Bk.js";import"./EyeOutlined-DhfopHHq.js";import"./DeleteOutlined-D6BVE3ZI.js";import"./progress-lRO8rVRK.js";import"./index-CUWDS_la.js";const Je=e=>{const{componentCls:t,notificationMarginEdge:n,animationMaxHeight:o}=e,r=`${t}-notice`,c=new H("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),p=new H("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),s=new H("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),l=new H("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[r]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:p}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:c}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[r]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:l}}}}},Qe=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Ze={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},et=(e,t)=>{const{componentCls:n}=e;return{[`${n}-${t}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[Ze[t]]:{value:0,_skip_check_:!0}}}}},tt=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},ot=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)},nt=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`all ${e.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},tt(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},ot(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Qe.map(n=>et(e,n)).reduce((n,o)=>Object.assign(Object.assign({},n),o),{}))},me=e=>{const{iconCls:t,componentCls:n,boxShadow:o,fontSizeLG:r,notificationMarginBottom:c,borderRadiusLG:p,colorSuccess:s,colorInfo:l,colorWarning:d,colorError:b,colorTextHeading:f,notificationBg:w,notificationPadding:C,notificationMarginEdge:O,notificationProgressBg:g,notificationProgressHeight:v,fontSize:T,lineHeight:j,width:N,notificationIconSize:y,colorText:$}=e,h=`${n}-notice`;return{position:"relative",marginBottom:c,marginInlineStart:"auto",background:w,borderRadius:p,boxShadow:o,[h]:{padding:C,width:N,maxWidth:`calc(100vw - ${z(e.calc(O).mul(2).equal())})`,overflow:"hidden",lineHeight:j,wordWrap:"break-word"},[`${h}-message`]:{marginBottom:e.marginXS,color:f,fontSize:r,lineHeight:e.lineHeightLG},[`${h}-description`]:{fontSize:T,color:$},[`${h}-closable ${h}-message`]:{paddingInlineEnd:e.paddingLG},[`${h}-with-icon ${h}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(y).equal(),fontSize:r},[`${h}-with-icon ${h}-description`]:{marginInlineStart:e.calc(e.marginSM).add(y).equal(),fontSize:T},[`${h}-icon`]:{position:"absolute",fontSize:y,lineHeight:1,[`&-success${t}`]:{color:s},[`&-info${t}`]:{color:l},[`&-warning${t}`]:{color:d},[`&-error${t}`]:{color:b}},[`${h}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},_e(e)),[`${h}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${z(p)} * 2)`,left:{_skip_check_:!0,value:p},right:{_skip_check_:!0,value:p},bottom:0,blockSize:v,border:0,"&, &::-webkit-progress-bar":{borderRadius:p,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:g},"&::-webkit-progress-value":{borderRadius:p,background:g}},[`${h}-btn`]:{float:"right",marginTop:e.marginSM}}},at=e=>{const{componentCls:t,notificationMarginBottom:n,notificationMarginEdge:o,motionDurationMid:r,motionEaseInOut:c}=e,p=`${t}-notice`,s=new H("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},Ne(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:c,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:c,animationFillMode:"both",animationDuration:r,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:s,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${p}-btn`]:{float:"left"}}})},{[t]:{[`${p}-wrapper`]:Object.assign({},me(e))}}]},fe=e=>({zIndexPopup:e.zIndexPopupBase+Ue+50,width:384}),ge=e=>{const t=e.paddingMD,n=e.paddingLG;return qe(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${z(e.paddingMD)} ${z(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})},he=Ie("Notification",e=>{const t=ge(e);return[at(t),Je(t),nt(t)]},fe),rt=Be(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,n=ge(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},me(n)),{width:n.width,maxWidth:`calc(100vw - ${z(e.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},fe);var it=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};function J(e,t){return t===null||t===!1?null:t||u.createElement(Ke,{className:`${e}-close-icon`})}const st={success:Ve,info:Xe,error:We,warning:Ye},be=e=>{const{prefixCls:t,icon:n,type:o,message:r,description:c,btn:p,role:s="alert"}=e;let l=null;return n?l=u.createElement("span",{className:`${t}-icon`},n):o&&(l=u.createElement(st[o]||null,{className:_(`${t}-icon`,`${t}-icon-${o}`)})),u.createElement("div",{className:_({[`${t}-with-icon`]:l}),role:s},l,u.createElement("div",{className:`${t}-message`},r),u.createElement("div",{className:`${t}-description`},c),p&&u.createElement("div",{className:`${t}-btn`},p))},ct=e=>{const{prefixCls:t,className:n,icon:o,type:r,message:c,description:p,btn:s,closable:l=!0,closeIcon:d,className:b}=e,f=it(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:w}=u.useContext(X),C=t||w("notification"),O=`${C}-notice`,g=ce(C),[v,T,j]=he(C,g);return v(u.createElement("div",{className:_(`${O}-pure-panel`,T,n,j,g)},u.createElement(rt,{prefixCls:C}),u.createElement(ze,Object.assign({},f,{prefixCls:C,eventKey:"pure",duration:null,closable:l,className:_({notificationClassName:b}),closeIcon:J(C,d),content:u.createElement(be,{prefixCls:O,icon:o,type:r,message:c,description:p,btn:s})}))))};function lt(e,t,n){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":o={left:0,top:"auto",bottom:n};break;default:o={right:0,top:"auto",bottom:n};break}return o}function pt(e){return{motionName:`${e}-fade`}}var dt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const ie=24,ut=4.5,mt="topRight",ft=e=>{let{children:t,prefixCls:n}=e;const o=ce(n),[r,c,p]=he(n,o);return r(x.createElement(Ge,{classNames:{list:_(c,p,o)}},t))},gt=(e,t)=>{let{prefixCls:n,key:o}=t;return x.createElement(ft,{prefixCls:n,key:o},e)},ht=x.forwardRef((e,t)=>{const{top:n,bottom:o,prefixCls:r,getContainer:c,maxCount:p,rtl:s,onAllRemoved:l,stack:d,duration:b,pauseOnHover:f=!0,showProgress:w}=e,{getPrefixCls:C,getPopupContainer:O,notification:g,direction:v}=u.useContext(X),[,T]=Fe(),j=r||C("notification"),N=q=>lt(q,n??ie,o??ie),y=()=>_({[`${j}-rtl`]:s??v==="rtl"}),$=()=>pt(j),[h,F]=Ae({prefixCls:j,style:N,className:y,motion:$,closable:!0,closeIcon:J(j),duration:b??ut,getContainer:()=>(c==null?void 0:c())||(O==null?void 0:O())||document.body,maxCount:p,pauseOnHover:f,showProgress:w,onAllRemoved:l,renderNotifications:gt,stack:d===!1?!1:{threshold:typeof d=="object"?d==null?void 0:d.threshold:void 0,offset:8,gap:T.margin}});return x.useImperativeHandle(t,()=>Object.assign(Object.assign({},h),{prefixCls:j,notification:g})),F});function ye(e){const t=x.useRef(null);return Me(),[x.useMemo(()=>{const o=s=>{var l;if(!t.current)return;const{open:d,prefixCls:b,notification:f}=t.current,w=`${b}-notice`,{message:C,description:O,icon:g,type:v,btn:T,className:j,style:N,role:y="alert",closeIcon:$,closable:h}=s,F=dt(s,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),q=J(w,typeof $<"u"?$:f==null?void 0:f.closeIcon);return d(Object.assign(Object.assign({placement:(l=e==null?void 0:e.placement)!==null&&l!==void 0?l:mt},F),{content:x.createElement(be,{prefixCls:w,icon:g,type:v,message:C,description:O,btn:T,role:y}),className:_(v&&`${w}-${v}`,j,f==null?void 0:f.className),style:Object.assign(Object.assign({},f==null?void 0:f.style),N),closeIcon:q,closable:h??!!q}))},c={open:o,destroy:s=>{var l,d;s!==void 0?(l=t.current)===null||l===void 0||l.close(s):(d=t.current)===null||d===void 0||d.destroy()}};return["success","info","warning","error"].forEach(s=>{c[s]=l=>o(Object.assign(Object.assign({},l),{type:s}))}),c},[]),x.createElement(ht,Object.assign({key:"notification-holder"},e,{ref:t}))]}function bt(e){return ye(e)}let P=null,k=e=>e(),V=[],A={};function se(){const{getContainer:e,rtl:t,maxCount:n,top:o,bottom:r,showProgress:c,pauseOnHover:p}=A,s=(e==null?void 0:e())||document.body;return{getContainer:()=>s,rtl:t,maxCount:n,top:o,bottom:r,showProgress:c,pauseOnHover:p}}const yt=x.forwardRef((e,t)=>{const{notificationConfig:n,sync:o}=e,{getPrefixCls:r}=u.useContext(X),c=A.prefixCls||r("notification"),p=u.useContext(ke),[s,l]=ye(Object.assign(Object.assign(Object.assign({},n),{prefixCls:c}),p.notification));return x.useEffect(o,[]),x.useImperativeHandle(t,()=>{const d=Object.assign({},s);return Object.keys(d).forEach(b=>{d[b]=function(){return o(),s[b].apply(s,arguments)}}),{instance:d,sync:o}}),l}),xt=x.forwardRef((e,t)=>{const[n,o]=x.useState(se),r=()=>{o(se)};x.useEffect(r,[]);const c=le(),p=c.getRootPrefixCls(),s=c.getIconPrefixCls(),l=c.getTheme(),d=x.createElement(yt,{ref:t,sync:r,notificationConfig:n});return x.createElement(De,{prefixCls:p,iconPrefixCls:s,theme:l},c.holderRender?c.holderRender(d):d)});function Q(){if(!P){const e=document.createDocumentFragment(),t={fragment:e};P=t,k(()=>{He(x.createElement(xt,{ref:n=>{const{instance:o,sync:r}=n||{};Promise.resolve().then(()=>{!t.instance&&o&&(t.instance=o,t.sync=r,Q())})}}),e)});return}P.instance&&(V.forEach(e=>{switch(e.type){case"open":{k(()=>{P.instance.open(Object.assign(Object.assign({},A),e.config))});break}case"destroy":k(()=>{P==null||P.instance.destroy(e.key)});break}}),V=[])}function vt(e){A=Object.assign(Object.assign({},A),e),k(()=>{var t;(t=P==null?void 0:P.sync)===null||t===void 0||t.call(P)})}function xe(e){le(),V.push({type:"open",config:e}),Q()}const Ct=e=>{V.push({type:"destroy",key:e}),Q()},jt=["success","info","warning","error"],$t={open:xe,destroy:Ct,config:vt,useNotification:bt,_InternalPanelDoNotUseOrYouWillBeFired:ct},S=$t;jt.forEach(e=>{S[e]=t=>xe(Object.assign(Object.assign({},t),{type:e}))});var St={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"},wt=function(t,n){return u.createElement(pe,de({},t,{ref:n,icon:St}))},Ot=u.forwardRef(wt),Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"},Rt=function(t,n){return u.createElement(pe,de({},t,{ref:n,icon:Et}))},Pt=u.forwardRef(Rt);const Tt=Y.div`
    padding: 40px 20px;
    background-color: #f9fafb;
    border-radius: 10px;
`,It=Y.div`
    margin-bottom: 30px;
    text-align: center;
`,K=Y(ue)`
    background-color: #e6f7ff;
    color: #333;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s, box-shadow 0.3s;

    &:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }
`,$o=()=>{const{auth:e,items:t}=oe().props,[n,o]=u.useState(!1),[r,c]=u.useState(!1),[p,s]=u.useState(!1),[l,d]=u.useState(null);console.log("Full usePage props:",oe().props),console.log("Auth object:",e),console.log("User object:",e==null?void 0:e.user);const{data:b,setData:f,post:w,processing:C,errors:O}=U({item_id:null,purpose:"",borrow_date:"",return_date:""}),{data:g,setData:v,post:T,processing:j,errors:N}=U({contact:e.user.contact_number||"",details:"",place:"",request_letter:null}),{data:y,setData:$,post:h,processing:F}=U({contact:"",assistanceType:null,description:"",supporting_document:null}),q=()=>o(!0),Z=()=>{o(!1),d(null),f({item_id:null,purpose:"",borrow_date:"",return_date:""})},ve=()=>c(!0),ee=()=>{c(!1),v({contact:"",details:"",place:"",request_letter:null})},Ce=()=>s(!0),te=()=>{s(!1),$({contact:"",assistanceType:null,description:"",supporting_document:null})},je=i=>{d(i),f("item_id",i.id)},$e=i=>{i.preventDefault();const m={};if(b.item_id||(m.item_id="Please select an item"),b.purpose.trim()||(m.purpose="Purpose is required"),b.borrow_date||(m.borrow_date="Borrow date is required"),b.return_date||(m.return_date="Return date is required"),Object.keys(m).length>0){Object.values(m).forEach(E=>{S.error({message:"Validation Error",description:E,placement:"topRight"})});return}w(route("borrow.store"),{onSuccess:()=>{Z(),S.success({message:"Borrow Request Submitted",description:"Your borrow request is now pending approval.",placement:"topRight"})},onError:E=>{Object.values(E).forEach(R=>{S.error({message:"Submission Failed",description:R,placement:"topRight"})})}})},Se=i=>{i.preventDefault();const m={};if(g.contact.trim()||(m.contact="Contact is required"),g.details.trim()||(m.details="Details are required"),g.place.trim()||(m.place="Place is required"),g.request_letter||(m.request_letter="Request letter is required"),Object.keys(m).length>0){Object.values(m).forEach(R=>{S.error({message:"Validation Error",description:R,placement:"topRight"})});return}const E=new FormData;E.append("contact",g.contact),E.append("details",g.details),E.append("place",g.place),E.append("request_letter",g.request_letter),T(route("tanod.requests.store"),{data:E,onSuccess:()=>{ee(),S.success({message:"Tanod Request Submitted",description:"Your tanod request is now pending approval.",placement:"topRight"})},onError:R=>{Object.values(R).forEach(D=>{S.error({message:"Submission Failed",description:D,placement:"topRight"})})}})},we=i=>{i.preventDefault();const m={},E=/^(09|\+639)\d{9}$/;if(y.contact.trim()?E.test(y.contact)||(m.contact="Invalid contact number format"):m.contact="Contact number is required",y.assistanceType||(m.assistanceType="Assistance type is required"),y.description.trim()||(m.description="Description is required"),Object.keys(m).length>0){Object.values(m).forEach(D=>{S.error({message:"Validation Error",description:D,placement:"topRight"})});return}const R=new FormData;R.append("contact",y.contact),R.append("assistanceType",y.assistanceType),R.append("description",y.description),y.supporting_document&&R.append("supporting_document",y.supporting_document),h(route("sk.emergency.store"),{data:R,onSuccess:()=>{te(),S.success({message:"SK Emergency Request Submitted",description:"Your request has been received and will be processed soon.",placement:"topRight"})},onError:D=>{Object.values(D).forEach(Re=>{S.error({message:"Submission Failed",description:Re,placement:"topRight"})})}})},Oe={beforeUpload:i=>["application/pdf","image/png","image/jpeg","image/jpg"].includes(i.type)?(v("request_letter",i),!1):(S.error({message:"Invalid File Type",description:"You can only upload PDF, PNG, JPG, or JPEG files",placement:"topRight"}),!1),onRemove:()=>{v("request_letter",null)},accept:".pdf,.png,.jpg,.jpeg",maxCount:1},Ee={beforeUpload:i=>["application/pdf","image/png","image/jpeg","image/jpg"].includes(i.type)?($("supporting_document",i),!1):(S.error({message:"Invalid File Type",description:"You can only upload PDF, PNG, JPG, or JPEG files",placement:"topRight"}),!1),onRemove:()=>{$("supporting_document",null)},accept:".pdf,.png,.jpg,.jpeg",maxCount:1};return a.jsx(Pe,{user:e,children:a.jsxs(Tt,{children:[a.jsxs(It,{children:[a.jsx(B.Title,{level:2,children:"Get Assistance from Our Help Center"}),a.jsx(B.Text,{children:"Need help with equipment, tanod services, or emergency assistance? Our Help Center is here to support you."})]}),a.jsxs(ne,{gutter:16,justify:"center",children:[a.jsx(G,{xs:24,sm:12,md:8,children:a.jsx(K,{title:"SK Emergency Assistance",onClick:Ce,hoverable:!0,extra:a.jsx(Te,{style:{fontSize:"24px",color:"#dc3545"}}),children:a.jsx(B.Text,{children:"Request urgent SK community support."})})}),a.jsx(G,{xs:24,sm:12,md:8,children:a.jsx(K,{title:"Tanod Request",onClick:ve,hoverable:!0,extra:a.jsx(Ot,{style:{fontSize:"24px",color:"#28a745"}}),children:a.jsx(B.Text,{children:"Request Tanod service."})})}),a.jsx(G,{xs:24,sm:12,md:8,children:a.jsx(K,{title:"Borrow Equipment",onClick:q,hoverable:!0,extra:a.jsx(Pt,{style:{fontSize:"24px",color:"#ffc107"}}),children:a.jsx(B.Text,{children:"Borrow equipment easily."})})})]}),a.jsx(W,{title:"Borrow Equipment",open:n,onCancel:Z,footer:null,children:a.jsxs("form",{onSubmit:$e,children:[a.jsx(ne,{gutter:16,children:t==null?void 0:t.map(i=>a.jsx(G,{span:8,children:a.jsxs(ue,{title:i.name,bordered:(l==null?void 0:l.id)!==i.id,onClick:()=>je(i),style:{cursor:"pointer",marginBottom:"16px"},children:[a.jsxs("p",{children:["Category: ",i.category]}),a.jsxs("p",{children:["Available: ",i.quantity]})]})},i.id))}),l&&a.jsxs(a.Fragment,{children:[a.jsxs(B.Title,{level:4,style:{marginTop:"16px"},children:["Borrow Request for ",l.name]}),a.jsx(I,{placeholder:"Purpose of Borrowing",value:b.purpose,onChange:i=>f("purpose",i.target.value),style:{marginBottom:"8px"}}),a.jsx(I,{type:"datetime-local",value:b.borrow_date,onChange:i=>f("borrow_date",i.target.value),style:{marginBottom:"8px"}}),a.jsx(I,{type:"datetime-local",value:b.return_date,onChange:i=>f("return_date",i.target.value),style:{marginBottom:"8px"}}),a.jsx(L,{type:"primary",htmlType:"submit",loading:C,children:"Submit Borrow Request"})]})]})}),a.jsx(W,{title:"Tanod Request",open:r,onCancel:ee,footer:null,children:a.jsxs("form",{onSubmit:Se,children:[a.jsx(I,{placeholder:"Contact Number",value:g.contact,onChange:i=>v("contact",i.target.value),style:{marginBottom:"8px"}}),a.jsx(I.TextArea,{placeholder:"Details of Request",value:g.details,onChange:i=>v("details",i.target.value),style:{marginBottom:"8px"}}),a.jsx(I,{placeholder:"Place of Request",value:g.place,onChange:i=>v("place",i.target.value),style:{marginBottom:"8px"}}),a.jsx(re,{...Oe,children:a.jsx(L,{icon:a.jsx(ae,{}),children:"Upload Request Letter"})}),a.jsx(L,{type:"primary",htmlType:"submit",loading:j,style:{marginTop:"16px",width:"100%"},children:"Submit Tanod Request"})]})}),a.jsx(W,{title:"SK Emergency Assistance Request",open:p,onCancel:te,footer:null,children:a.jsxs("form",{onSubmit:we,children:[a.jsx(I,{placeholder:"Contact Number",value:y.contact,onChange:i=>$("contact",i.target.value),style:{marginBottom:"8px"},required:!0,prefix:a.jsx(Le,{})}),a.jsxs(M,{placeholder:"Type of SK Emergency Assistance",style:{width:"100%",marginBottom:"8px"},value:y.assistanceType,onChange:i=>$("assistanceType",i),required:!0,children:[a.jsx(M.Option,{value:"health",children:"Health Assistance"}),a.jsx(M.Option,{value:"financial",children:"Financial Support"}),a.jsx(M.Option,{value:"education",children:"Educational Aid"}),a.jsx(M.Option,{value:"community",children:"Community Safety"}),a.jsx(M.Option,{value:"personal",children:"Personal Crisis"})]}),a.jsx(I.TextArea,{placeholder:"Describe Your Emergency or Need",rows:4,value:y.description,onChange:i=>$("description",i.target.value),style:{marginBottom:"8px"},required:!0}),a.jsx(re,{...Ee,children:a.jsx(L,{icon:a.jsx(ae,{}),children:"Upload Supporting Document"})}),a.jsx(L,{type:"primary",htmlType:"submit",loading:F,style:{marginTop:"16px",width:"100%"},children:"Submit SK Emergency Request"})]})})]})})};export{$o as default};
