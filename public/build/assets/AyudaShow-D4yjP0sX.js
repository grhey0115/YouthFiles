import{r,G as _e,W as mn,q as Et,j as s,Y as vn}from"./app-yAQSJtCB.js";import{A as gn,L as pn,S as yt,R as $t}from"./AuthenticatedLayout-DmX7Er2P.js";import{C as ze,R as hn}from"./index-cYkKODgp.js";import{R as bn}from"./CalendarOutlined-ttbhfEJR.js";import{R as xn}from"./EnvironmentOutlined-D19lJcPo.js";import{R as jt}from"./TeamOutlined-DkTe9iEj.js";import{B as Sn}from"./index-iLf87DAY.js";import{i as wn,a as Cn,g as Kt,b as In,c as Nn,d as Rn,e as En,f as yn,h as $n,j as jn,u as Mn,k as Mt,l as On,R as Ot,C as Ze}from"./row-BEATd-KS.js";import{S as ut}from"./index-7Vuy-HPr.js";import{R as _n}from"./ClockCircleOutlined-rYg8INZ1.js";import{S as Pn}from"./index-Dkr5NVdl.js";import{R as _t}from"./FileTextOutlined-DZbXbGQC.js";import{A as Tn}from"./index-DPmbN7dd.js";import{R as Dn}from"./InfoCircleOutlined-Bt8H_qSJ.js";import{T as Pt}from"./Timeline-77VXt0Mi.js";import{U as Tt}from"./index-DWfAgPXp.js";import{R as kn}from"./EyeOutlined-Buow9Ohn.js";import{I as De,_ as de,a as Qt,b as Jt,c as V,w as An,d as ne,u as Ln,e as qe,f as Ce,g as Me,h as St,i as dt,j as zn,T as je,k as en,m as vt,r as ft,l as ge,n as Bn,C as wt,o as Ct,D as Vn,p as $e,q as Fn,s as Hn,t as q,K as gt,v as Yn,x as Wn,y as Xn,R as Gn,z as Dt}from"./KeyCode-BIBQ-5iG.js";import{g as tn,a as Ve,b as Un}from"./addEventListener-Bu8hTB1K.js";import{i as Zn,u as qn,P as Kn,a as pt,g as at}from"./index-Da8wmaTs.js";import{D as Qn,g as Jn,M as kt}from"./index-BjySX_8k.js";import{u as nn}from"./useZIndex-q4v-gC99.js";import{R as er,a as tr,b as nr,E as At,S as Lt}from"./index-BYFAk2Se.js";import{i as rr}from"./fade-COGsLr8a.js";import{C as zt,i as ar}from"./index-BkIKpbYi.js";import{D as Je}from"./index-6G1EAKFE.js";import{P as or}from"./progress-DVmWtjW3.js";import{B as pe}from"./button-D34w74xY.js";import{R as ir}from"./DollarCircleOutlined-CZwLmWFy.js";import{R as Bt,a as Vt}from"./UploadOutlined-B2FTmCin.js";import{R as sr}from"./HeartOutlined-DNcNniUY.js";import{F as et}from"./index-Cj9wS-7M.js";import{B as lr,t as cr,T as ur}from"./index-CIffzKKO.js";import{F as dr}from"./responsiveObserver-rdbm8B_r.js";import{g as fr,u as mr}from"./compact-item-BE9vaOuG.js";import{I as Ft}from"./index-BEIsJxv2.js";import{s as ye}from"./index-Q2CZieaY.js";import{R as vr,a as gr,b as pr}from"./WhatsAppOutlined-DCkKODvD.js";import"./asyncToGenerator-C_xl3FJK.js";import"./EllipsisOutlined-BYQeCM5H.js";import"./collapse-BbEVqHco.js";import"./UserOutlined-hEF-vAwg.js";import"./SettingOutlined-DDTq5MXy.js";import"./PurePanel-C9Zqf5xI.js";import"./proxy-ckqmZRsA.js";import"./index-CslPd_U1.js";import"./useBreakpoint-CJLoZEi_.js";import"./colors-fiVX3SUh.js";import"./Skeleton-Cz5FKXUf.js";import"./CheckCircleFilled-BFKCfje8.js";import"./InfoCircleFilled-bkiPkIcd.js";import"./render-Duf7NqYX.js";import"./useClosable-nnzSN9h_.js";import"./index-CUWDS_la.js";import"./context-BXHvT865.js";var hr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},br=function(t,n){return r.createElement(De,de({},t,{ref:n,icon:hr}))},xr=r.forwardRef(br);function ht(){return typeof BigInt=="function"}function rn(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function Te(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var a=t||"0",o=a.split("."),i=o[0]||"0",f=o[1]||"0";i==="0"&&f==="0"&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:a,integerStr:i,decimalStr:f,fullStr:"".concat(c).concat(a)}}function It(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Pe(e){var t=String(e);if(It(e)){var n=Number(t.slice(t.indexOf("e-")+2)),a=t.match(/\.(\d+)/);return a!=null&&a[1]&&(n+=a[1].length),n}return t.includes(".")&&Nt(t)?t.length-t.indexOf(".")-1:0}function it(e){var t=String(e);if(It(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ht()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ht()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Pe(t))}return Te(t).fullStr}function Nt(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Sr=function(){function e(t){if(Jt(this,e),V(this,"origin",""),V(this,"negative",void 0),V(this,"integer",void 0),V(this,"decimal",void 0),V(this,"decimalLen",void 0),V(this,"empty",void 0),V(this,"nan",void 0),rn(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(It(n)&&(n=Number(n)),n=typeof n=="string"?n:it(n),Nt(n)){var a=Te(n);this.negative=a.negative;var o=a.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Qt(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var a="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(a)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,a,o){var i=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),f=this.alignDecimal(i),c=n.alignDecimal(i),l=a(f,c).toString(),d=o(i),m=Te(l),u=m.negativeStr,S=m.trimStr,h="".concat(u).concat(S.padStart(d+1,"0"));return new e("".concat(h.slice(0,-d),".").concat(h.slice(-d)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var a=new e(n);return a.isInvalidate()?this:this.cal(a,function(o,i){return o+i},function(o){return o})}},{key:"multi",value:function(n){var a=new e(n);return this.isInvalidate()||a.isInvalidate()?new e(NaN):this.cal(a,function(o,i){return o*i},function(o){return o*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Te("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),wr=function(){function e(t){if(Jt(this,e),V(this,"origin",""),V(this,"number",void 0),V(this,"empty",void 0),rn(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Qt(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var a=Number(n);if(Number.isNaN(a))return this;var o=this.number+a;if(o>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(Pe(this.number),Pe(a));return new e(o.toFixed(i))}},{key:"multi",value:function(n){var a=Number(n);if(this.isInvalidate()||Number.isNaN(a))return new e(NaN);var o=this.number*a;if(o>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(Pe(this.number),Pe(a));return new e(o.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":it(this.number):this.origin}}]),e}();function we(e){return ht()?new Sr(e):new wr(e)}function rt(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var o=Te(e),i=o.negativeStr,f=o.integerStr,c=o.decimalStr,l="".concat(t).concat(c),d="".concat(i).concat(f);if(n>=0){var m=Number(c[n]);if(m>=5&&!a){var u=we(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-m));return rt(u.toString(),t,n,a)}return n===0?d:"".concat(d).concat(t).concat(c.padEnd(n,"0").slice(0,n))}return l===".0"?d:"".concat(d).concat(l)}function Cr(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(a,o){if(t[o])return t[o];var i=a[o];return typeof i=="function"?i.bind(a):i}}):e}function Ir(e,t){var n=r.useRef(null);function a(){try{var i=e.selectionStart,f=e.selectionEnd,c=e.value,l=c.substring(0,i),d=c.substring(f);n.current={start:i,end:f,value:c,beforeTxt:l,afterTxt:d}}catch{}}function o(){if(e&&n.current&&t)try{var i=e.value,f=n.current,c=f.beforeTxt,l=f.afterTxt,d=f.start,m=i.length;if(i.startsWith(c))m=c.length;else if(i.endsWith(l))m=i.length-n.current.afterTxt.length;else{var u=c[d-1],S=i.indexOf(u,d-1);S!==-1&&(m=S+1)}e.setSelectionRange(m,m)}catch(h){An(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(h.message))}}return[a,o]}var Nr=function(){var t=r.useState(!1),n=ne(t,2),a=n[0],o=n[1];return Ln(function(){o(Zn())},[]),a},Rr=200,Er=600;function yr(e){var t=e.prefixCls,n=e.upNode,a=e.downNode,o=e.upDisabled,i=e.downDisabled,f=e.onStep,c=r.useRef(),l=r.useRef([]),d=r.useRef();d.current=f;var m=function(){clearTimeout(c.current)},u=function(M,p){M.preventDefault(),m(),d.current(p);function v(){d.current(p),c.current=setTimeout(v,Rr)}c.current=setTimeout(v,Er)};r.useEffect(function(){return function(){m(),l.current.forEach(function(P){return qe.cancel(P)})}},[]);var S=Nr();if(S)return null;var h="".concat(t,"-handler"),w=Ce(h,"".concat(h,"-up"),V({},"".concat(h,"-up-disabled"),o)),N=Ce(h,"".concat(h,"-down"),V({},"".concat(h,"-down-disabled"),i)),$=function(){return l.current.push(qe(m))},C={unselectable:"on",role:"button",onMouseUp:$,onMouseLeave:$};return r.createElement("div",{className:"".concat(h,"-wrap")},r.createElement("span",de({},C,{onMouseDown:function(M){u(M,!0)},"aria-label":"Increase Value","aria-disabled":o,className:w}),n||r.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),r.createElement("span",de({},C,{onMouseDown:function(M){u(M,!1)},"aria-label":"Decrease Value","aria-disabled":i,className:N}),a||r.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function Ht(e){var t=typeof e=="number"?it(e):Te(e).fullStr,n=t.includes(".");return n?Te(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const $r=function(){var e=r.useRef(0),t=function(){qe.cancel(e.current)};return r.useEffect(function(){return t},[]),function(n){t(),e.current=qe(function(){n()})}};var jr=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Mr=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Yt=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},Wt=function(t){var n=we(t);return n.isInvalidate()?null:n},Or=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.className,o=e.style,i=e.min,f=e.max,c=e.step,l=c===void 0?1:c,d=e.defaultValue,m=e.value,u=e.disabled,S=e.readOnly,h=e.upHandler,w=e.downHandler,N=e.keyboard,$=e.changeOnWheel,C=$===void 0?!1:$,P=e.controls,M=P===void 0?!0:P;e.classNames;var p=e.stringMode,v=e.parser,R=e.formatter,x=e.precision,b=e.decimalSeparator,y=e.onChange,j=e.onInput,I=e.onPressEnter,T=e.onStep,A=e.changeOnBlur,L=A===void 0?!0:A,K=e.domRef,oe=Me(e,jr),ie="".concat(n,"-input"),X=r.useRef(null),U=r.useState(!1),Q=ne(U,2),re=Q[0],se=Q[1],z=r.useRef(!1),le=r.useRef(!1),J=r.useRef(!1),F=r.useState(function(){return we(m??d)}),ce=ne(F,2),O=ce[0],Z=ce[1];function Y(_){m===void 0&&Z(_)}var g=r.useCallback(function(_,E){if(!E)return x>=0?x:Math.max(Pe(_),Pe(l))},[x,l]),D=r.useCallback(function(_){var E=String(_);if(v)return v(E);var B=E;return b&&(B=B.replace(b,".")),B.replace(/[^\w.-]+/g,"")},[v,b]),H=r.useRef(""),ue=r.useCallback(function(_,E){if(R)return R(_,{userTyping:E,input:String(H.current)});var B=typeof _=="number"?it(_):_;if(!E){var k=g(B,E);if(Nt(B)&&(b||k>=0)){var Re=b||".";B=rt(B,Re,k)}}return B},[R,g,b]),fe=r.useState(function(){var _=d??m;return O.isInvalidate()&&["string","number"].includes(St(_))?Number.isNaN(_)?"":_:ue(O.toString(),!1)}),ee=ne(fe,2),W=ee[0],te=ee[1];H.current=W;function ae(_,E){te(ue(_.isInvalidate()?_.toString(!1):_.toString(!E),E))}var G=r.useMemo(function(){return Wt(f)},[f,x]),me=r.useMemo(function(){return Wt(i)},[i,x]),Ie=r.useMemo(function(){return!G||!O||O.isInvalidate()?!1:G.lessEquals(O)},[G,O]),he=r.useMemo(function(){return!me||!O||O.isInvalidate()?!1:O.lessEquals(me)},[me,O]),xe=Ir(X.current,re),ke=ne(xe,2),He=ke[0],Ye=ke[1],Se=function(E){return G&&!E.lessEquals(G)?G:me&&!me.lessEquals(E)?me:null},be=function(E){return!Se(E)},Ee=function(E,B){var k=E,Re=be(k)||k.isEmpty();if(!k.isEmpty()&&!B&&(k=Se(k)||k,Re=!0),!S&&!u&&Re){var Ue=k.toString(),ct=g(Ue,B);return ct>=0&&(k=we(rt(Ue,".",ct)),be(k)||(k=we(rt(Ue,".",ct,!0)))),k.equals(O)||(Y(k),y==null||y(k.isEmpty()?null:Yt(p,k)),m===void 0&&ae(k,B)),k}return O},Ae=$r(),Oe=function _(E){if(He(),H.current=E,te(E),!le.current){var B=D(E),k=we(B);k.isNaN()||Ee(k,!0)}j==null||j(E),Ae(function(){var Re=E;v||(Re=E.replace(/。/g,".")),Re!==E&&_(Re)})},st=function(){le.current=!0},We=function(){le.current=!1,Oe(X.current.value)},lt=function(E){Oe(E.target.value)},Xe=function(E){var B;if(!(E&&Ie||!E&&he)){z.current=!1;var k=we(J.current?Ht(l):l);E||(k=k.negate());var Re=(O||we(0)).add(k.toString()),Ue=Ee(Re,!1);T==null||T(Yt(p,Ue),{offset:J.current?Ht(l):l,type:E?"up":"down"}),(B=X.current)===null||B===void 0||B.focus()}},Ge=function(E){var B=we(D(W)),k;B.isNaN()?k=Ee(O,E):k=Ee(B,E),m!==void 0?ae(O,!1):k.isNaN()||ae(k,!1)},Qe=function(){z.current=!0},ve=function(E){var B=E.key,k=E.shiftKey;z.current=!0,J.current=k,B==="Enter"&&(le.current||(z.current=!1),Ge(!1),I==null||I(E)),N!==!1&&!le.current&&["Up","ArrowUp","Down","ArrowDown"].includes(B)&&(Xe(B==="Up"||B==="ArrowUp"),E.preventDefault())},Ne=function(){z.current=!1,J.current=!1};r.useEffect(function(){if(C&&re){var _=function(k){Xe(k.deltaY<0),k.preventDefault()},E=X.current;if(E)return E.addEventListener("wheel",_,{passive:!1}),function(){return E.removeEventListener("wheel",_)}}});var Le=function(){L&&Ge(!1),se(!1),z.current=!1};return dt(function(){O.isInvalidate()||ae(O,!1)},[x,R]),dt(function(){var _=we(m);Z(_);var E=we(D(W));(!_.equals(E)||!z.current||R)&&ae(_,z.current)},[m]),dt(function(){R&&Ye()},[W]),r.createElement("div",{ref:K,className:Ce(n,a,V(V(V(V(V({},"".concat(n,"-focused"),re),"".concat(n,"-disabled"),u),"".concat(n,"-readonly"),S),"".concat(n,"-not-a-number"),O.isNaN()),"".concat(n,"-out-of-range"),!O.isInvalidate()&&!be(O))),style:o,onFocus:function(){se(!0)},onBlur:Le,onKeyDown:ve,onKeyUp:Ne,onCompositionStart:st,onCompositionEnd:We,onBeforeInput:Qe},M&&r.createElement(yr,{prefixCls:n,upNode:h,downNode:w,upDisabled:Ie,downDisabled:he,onStep:Xe}),r.createElement("div",{className:"".concat(ie,"-wrap")},r.createElement("input",de({autoComplete:"off",role:"spinbutton","aria-valuemin":i,"aria-valuemax":f,"aria-valuenow":O.isInvalidate()?null:O.toString(),step:l},oe,{ref:zn(X,t),className:ie,value:W,onChange:lt,disabled:u,readOnly:S}))))}),_r=r.forwardRef(function(e,t){var n=e.disabled,a=e.style,o=e.prefixCls,i=o===void 0?"rc-input-number":o,f=e.value,c=e.prefix,l=e.suffix,d=e.addonBefore,m=e.addonAfter,u=e.className,S=e.classNames,h=Me(e,Mr),w=r.useRef(null),N=r.useRef(null),$=r.useRef(null),C=function(M){$.current&&cr($.current,M)};return r.useImperativeHandle(t,function(){return Cr($.current,{nativeElement:w.current.nativeElement||N.current})}),r.createElement(lr,{className:u,triggerFocus:C,prefixCls:i,value:f,disabled:n,style:a,prefix:c,suffix:l,addonAfter:m,addonBefore:d,classNames:S,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:w},r.createElement(Or,de({prefixCls:i,disabled:n,ref:$,domRef:N,className:S==null?void 0:S.input},h)))});const Pr=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},wn(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new je(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0})},Xt=(e,t)=>{let{componentCls:n,borderRadiusSM:a,borderRadiusLG:o}=e;const i=t==="lg"?o:a;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:i,borderEndEndRadius:i},[`${n}-handler-up`]:{borderStartEndRadius:i},[`${n}-handler-down`]:{borderEndEndRadius:i}}}},Tr=e=>{const{componentCls:t,lineWidth:n,lineType:a,borderRadius:o,inputFontSizeSM:i,inputFontSizeLG:f,controlHeightLG:c,controlHeightSM:l,colorError:d,paddingInlineSM:m,paddingBlockSM:u,paddingBlockLG:S,paddingInlineLG:h,colorTextDescription:w,motionDurationMid:N,handleHoverColor:$,handleOpacity:C,paddingInline:P,paddingBlock:M,handleBg:p,handleActiveBg:v,colorTextDisabled:R,borderRadiusSM:x,borderRadiusLG:b,controlWidth:y,handleBorderColor:j,filledHandleBg:I,lineHeightLG:T,calc:A}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ft(e)),Kt(e)),{display:"inline-block",width:y,margin:0,padding:0,borderRadius:o}),In(e,{[`${t}-handler-wrap`]:{background:p,[`${t}-handler-down`]:{borderBlockStart:`${ge(n)} ${a} ${j}`}}})),Nn(e,{[`${t}-handler-wrap`]:{background:I,[`${t}-handler-down`]:{borderBlockStart:`${ge(n)} ${a} ${j}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:p}}})),Rn(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:f,lineHeight:T,borderRadius:b,[`input${t}-input`]:{height:A(c).sub(A(n).mul(2)).equal(),padding:`${ge(S)} ${ge(h)}`}},"&-sm":{padding:0,fontSize:i,borderRadius:x,[`input${t}-input`]:{height:A(l).sub(A(n).mul(2)).equal(),padding:`${ge(u)} ${ge(m)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:d}}},"&-group":Object.assign(Object.assign(Object.assign({},ft(e)),En(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:b,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:x}}},yn(e)),$n(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},ft(e)),{width:"100%",padding:`${ge(M)} ${ge(P)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${N} linear`,appearance:"textfield",fontSize:"inherit"}),jn(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:0,opacity:C,height:"100%",borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${N}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:w,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${ge(n)} ${a} ${j}`,transition:`all ${N} linear`,"&:active":{background:v},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:$}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},Bn()),{color:w,transition:`all ${N} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:o},[`${t}-handler-down`]:{borderEndEndRadius:o}},Xt(e,"lg")),Xt(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:R}})}]},Dr=e=>{const{componentCls:t,paddingBlock:n,paddingInline:a,inputAffixPadding:o,controlWidth:i,borderRadiusLG:f,borderRadiusSM:c,paddingInlineLG:l,paddingInlineSM:d,paddingBlockLG:m,paddingBlockSM:u,motionDurationMid:S}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${ge(n)} 0`}},Kt(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:i,padding:0,paddingInlineStart:a,"&-lg":{borderRadius:f,paddingInlineStart:l,[`input${t}-input`]:{padding:`${ge(m)} 0`}},"&-sm":{borderRadius:c,paddingInlineStart:d,[`input${t}-input`]:{padding:`${ge(u)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:a,marginInlineStart:o,transition:`margin ${S}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(a).equal()}})}},kr=en("InputNumber",e=>{const t=vt(e,Cn(e));return[Tr(t),Dr(t),fr(t)]},Pr,{unitless:{handleOpacity:!0}});var Ar=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const an=r.forwardRef((e,t)=>{const{getPrefixCls:n,direction:a}=r.useContext(wt),o=r.useRef(null);r.useImperativeHandle(t,()=>o.current);const{className:i,rootClassName:f,size:c,disabled:l,prefixCls:d,addonBefore:m,addonAfter:u,prefix:S,suffix:h,bordered:w,readOnly:N,status:$,controls:C,variant:P}=e,M=Ar(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),p=n("input-number",d),v=Ct(p),[R,x,b]=kr(p,v),{compactSize:y,compactItemClassnames:j}=mr(p,a);let I=r.createElement(xr,{className:`${p}-handler-up-inner`}),T=r.createElement(er,{className:`${p}-handler-down-inner`});const A=typeof C=="boolean"?C:void 0;typeof C=="object"&&(I=typeof C.upIcon>"u"?I:r.createElement("span",{className:`${p}-handler-up-inner`},C.upIcon),T=typeof C.downIcon>"u"?T:r.createElement("span",{className:`${p}-handler-down-inner`},C.downIcon));const{hasFeedback:L,status:K,isFormItemInput:oe,feedbackIcon:ie}=r.useContext(dr),X=On(K,$),U=qn(O=>{var Z;return(Z=c??y)!==null&&Z!==void 0?Z:O}),Q=r.useContext(Vn),re=l??Q,[se,z]=Mn("inputNumber",P,w),le=L&&r.createElement(r.Fragment,null,ie),J=$e({[`${p}-lg`]:U==="large",[`${p}-sm`]:U==="small",[`${p}-rtl`]:a==="rtl",[`${p}-in-form-item`]:oe},x),F=`${p}-group`,ce=r.createElement(_r,Object.assign({ref:o,disabled:re,className:$e(b,v,i,f,j),upHandler:I,downHandler:T,prefixCls:p,readOnly:N,controls:A,prefix:S,suffix:le||h,addonBefore:m&&r.createElement(zt,{form:!0,space:!0},m),addonAfter:u&&r.createElement(zt,{form:!0,space:!0},u),classNames:{input:J,variant:$e({[`${p}-${se}`]:z},Mt(p,X,L)),affixWrapper:$e({[`${p}-affix-wrapper-sm`]:U==="small",[`${p}-affix-wrapper-lg`]:U==="large",[`${p}-affix-wrapper-rtl`]:a==="rtl",[`${p}-affix-wrapper-without-controls`]:C===!1},x),wrapper:$e({[`${F}-rtl`]:a==="rtl"},x),groupWrapper:$e({[`${p}-group-wrapper-sm`]:U==="small",[`${p}-group-wrapper-lg`]:U==="large",[`${p}-group-wrapper-rtl`]:a==="rtl",[`${p}-group-wrapper-${se}`]:z},Mt(`${p}-group-wrapper`,X,L),x)}},M));return R(ce)}),on=an,Lr=e=>r.createElement(Fn,{theme:{components:{InputNumber:{handleVisible:!0}}}},r.createElement(an,Object.assign({},e)));on._InternalPanelDoNotUseOrYouWillBeFired=Lr;var Ke=r.createContext(null),zr=function(t){var n=t.visible,a=t.maskTransitionName,o=t.getContainer,i=t.prefixCls,f=t.rootClassName,c=t.icons,l=t.countRender,d=t.showSwitch,m=t.showProgress,u=t.current,S=t.transform,h=t.count,w=t.scale,N=t.minScale,$=t.maxScale,C=t.closeIcon,P=t.onActive,M=t.onClose,p=t.onZoomIn,v=t.onZoomOut,R=t.onRotateRight,x=t.onRotateLeft,b=t.onFlipX,y=t.onFlipY,j=t.onReset,I=t.toolbarRender,T=t.zIndex,A=t.image,L=r.useContext(Ke),K=c.rotateLeft,oe=c.rotateRight,ie=c.zoomIn,X=c.zoomOut,U=c.close,Q=c.left,re=c.right,se=c.flipX,z=c.flipY,le="".concat(i,"-operations-operation");r.useEffect(function(){var ee=function(te){te.keyCode===gt.ESC&&M()};return n&&window.addEventListener("keydown",ee),function(){window.removeEventListener("keydown",ee)}},[n]);var J=function(W,te){W.preventDefault(),W.stopPropagation(),P(te)},F=r.useCallback(function(ee){var W=ee.type,te=ee.disabled,ae=ee.onClick,G=ee.icon;return r.createElement("div",{key:W,className:Ce(le,"".concat(i,"-operations-operation-").concat(W),V({},"".concat(i,"-operations-operation-disabled"),!!te)),onClick:ae},G)},[le,i]),ce=d?F({icon:Q,onClick:function(W){return J(W,-1)},type:"prev",disabled:u===0}):void 0,O=d?F({icon:re,onClick:function(W){return J(W,1)},type:"next",disabled:u===h-1}):void 0,Z=F({icon:z,onClick:y,type:"flipY"}),Y=F({icon:se,onClick:b,type:"flipX"}),g=F({icon:K,onClick:x,type:"rotateLeft"}),D=F({icon:oe,onClick:R,type:"rotateRight"}),H=F({icon:X,onClick:v,type:"zoomOut",disabled:w<=N}),ue=F({icon:ie,onClick:p,type:"zoomIn",disabled:w===$}),fe=r.createElement("div",{className:"".concat(i,"-operations")},Z,Y,g,D,H,ue);return r.createElement(Hn,{visible:n,motionName:a},function(ee){var W=ee.className,te=ee.style;return r.createElement(Kn,{open:!0,getContainer:o??document.body},r.createElement("div",{className:Ce("".concat(i,"-operations-wrapper"),W,f),style:q(q({},te),{},{zIndex:T})},C===null?null:r.createElement("button",{className:"".concat(i,"-close"),onClick:M},C||U),d&&r.createElement(r.Fragment,null,r.createElement("div",{className:Ce("".concat(i,"-switch-left"),V({},"".concat(i,"-switch-left-disabled"),u===0)),onClick:function(G){return J(G,-1)}},Q),r.createElement("div",{className:Ce("".concat(i,"-switch-right"),V({},"".concat(i,"-switch-right-disabled"),u===h-1)),onClick:function(G){return J(G,1)}},re)),r.createElement("div",{className:"".concat(i,"-footer")},m&&r.createElement("div",{className:"".concat(i,"-progress")},l?l(u+1,h):"".concat(u+1," / ").concat(h)),I?I(fe,q(q({icons:{prevIcon:ce,nextIcon:O,flipYIcon:Z,flipXIcon:Y,rotateLeftIcon:g,rotateRightIcon:D,zoomOutIcon:H,zoomInIcon:ue},actions:{onActive:P,onFlipY:y,onFlipX:b,onRotateLeft:x,onRotateRight:R,onZoomOut:v,onZoomIn:p,onReset:j,onClose:M},transform:S},L?{current:u,total:h}:{}),{},{image:A})):fe)))})},tt={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Br(e,t,n,a){var o=r.useRef(null),i=r.useRef([]),f=r.useState(tt),c=ne(f,2),l=c[0],d=c[1],m=function(w){d(tt),Yn(tt,l)||a==null||a({transform:tt,action:w})},u=function(w,N){o.current===null&&(i.current=[],o.current=qe(function(){d(function($){var C=$;return i.current.forEach(function(P){C=q(q({},C),P)}),o.current=null,a==null||a({transform:C,action:N}),C})})),i.current.push(q(q({},l),w))},S=function(w,N,$,C,P){var M=e.current,p=M.width,v=M.height,R=M.offsetWidth,x=M.offsetHeight,b=M.offsetLeft,y=M.offsetTop,j=w,I=l.scale*w;I>n?(I=n,j=n/l.scale):I<t&&(I=P?I:t,j=I/l.scale);var T=$??innerWidth/2,A=C??innerHeight/2,L=j-1,K=L*p*.5,oe=L*v*.5,ie=L*(T-l.x-b),X=L*(A-l.y-y),U=l.x-(ie-K),Q=l.y-(X-oe);if(w<1&&I===1){var re=R*I,se=x*I,z=tn(),le=z.width,J=z.height;re<=le&&se<=J&&(U=0,Q=0)}u({x:U,y:Q,scale:I},N)};return{transform:l,resetTransform:m,updateTransform:u,dispatchZoomChange:S}}function Gt(e,t,n,a){var o=t+n,i=(n-a)/2;if(n>a){if(t>0)return V({},e,i);if(t<0&&o<a)return V({},e,-i)}else if(t<0||o>a)return V({},e,t<0?i:-i);return{}}function sn(e,t,n,a){var o=tn(),i=o.width,f=o.height,c=null;return e<=i&&t<=f?c={x:0,y:0}:(e>i||t>f)&&(c=q(q({},Gt("x",n,e,i)),Gt("y",a,t,f))),c}var Fe=1,Vr=1;function Fr(e,t,n,a,o,i,f){var c=o.rotate,l=o.scale,d=o.x,m=o.y,u=r.useState(!1),S=ne(u,2),h=S[0],w=S[1],N=r.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),$=function(v){!t||v.button!==0||(v.preventDefault(),v.stopPropagation(),N.current={diffX:v.pageX-d,diffY:v.pageY-m,transformX:d,transformY:m},w(!0))},C=function(v){n&&h&&i({x:v.pageX-N.current.diffX,y:v.pageY-N.current.diffY},"move")},P=function(){if(n&&h){w(!1);var v=N.current,R=v.transformX,x=v.transformY,b=d!==R&&m!==x;if(!b)return;var y=e.current.offsetWidth*l,j=e.current.offsetHeight*l,I=e.current.getBoundingClientRect(),T=I.left,A=I.top,L=c%180!==0,K=sn(L?j:y,L?y:j,T,A);K&&i(q({},K),"dragRebound")}},M=function(v){if(!(!n||v.deltaY==0)){var R=Math.abs(v.deltaY/100),x=Math.min(R,Vr),b=Fe+x*a;v.deltaY>0&&(b=Fe/b),f(b,"wheel",v.clientX,v.clientY)}};return r.useEffect(function(){var p,v,R,x;if(t){R=Ve(window,"mouseup",P,!1),x=Ve(window,"mousemove",C,!1);try{window.top!==window.self&&(p=Ve(window.top,"mouseup",P,!1),v=Ve(window.top,"mousemove",C,!1))}catch{}}return function(){var b,y,j,I;(b=R)===null||b===void 0||b.remove(),(y=x)===null||y===void 0||y.remove(),(j=p)===null||j===void 0||j.remove(),(I=v)===null||I===void 0||I.remove()}},[n,h,d,m,c,t]),{isMoving:h,onMouseDown:$,onMouseMove:C,onMouseUp:P,onWheel:M}}function Hr(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function ln(e){var t=e.src,n=e.isCustomPlaceholder,a=e.fallback,o=r.useState(n?"loading":"normal"),i=ne(o,2),f=i[0],c=i[1],l=r.useRef(!1),d=f==="error";r.useEffect(function(){var h=!0;return Hr(t).then(function(w){!w&&h&&c("error")}),function(){h=!1}},[t]),r.useEffect(function(){n&&!l.current?c("loading"):d&&c("normal")},[t]);var m=function(){c("normal")},u=function(w){l.current=!1,f==="loading"&&w!==null&&w!==void 0&&w.complete&&(w.naturalWidth||w.naturalHeight)&&(l.current=!0,m())},S=d&&a?{src:a}:{onLoad:m,src:t};return[u,S,f]}function ot(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.hypot(n,a)}function Yr(e,t,n,a){var o=ot(e,n),i=ot(t,a);if(o===0&&i===0)return[e.x,e.y];var f=o/(o+i),c=e.x+f*(t.x-e.x),l=e.y+f*(t.y-e.y);return[c,l]}function Wr(e,t,n,a,o,i,f){var c=o.rotate,l=o.scale,d=o.x,m=o.y,u=r.useState(!1),S=ne(u,2),h=S[0],w=S[1],N=r.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),$=function(v){N.current=q(q({},N.current),v)},C=function(v){if(t){v.stopPropagation(),w(!0);var R=v.touches,x=R===void 0?[]:R;x.length>1?$({point1:{x:x[0].clientX,y:x[0].clientY},point2:{x:x[1].clientX,y:x[1].clientY},eventType:"touchZoom"}):$({point1:{x:x[0].clientX-d,y:x[0].clientY-m},eventType:"move"})}},P=function(v){var R=v.touches,x=R===void 0?[]:R,b=N.current,y=b.point1,j=b.point2,I=b.eventType;if(x.length>1&&I==="touchZoom"){var T={x:x[0].clientX,y:x[0].clientY},A={x:x[1].clientX,y:x[1].clientY},L=Yr(y,j,T,A),K=ne(L,2),oe=K[0],ie=K[1],X=ot(T,A)/ot(y,j);f(X,"touchZoom",oe,ie,!0),$({point1:T,point2:A,eventType:"touchZoom"})}else I==="move"&&(i({x:x[0].clientX-y.x,y:x[0].clientY-y.y},"move"),$({eventType:"move"}))},M=function(){if(n){if(h&&w(!1),$({eventType:"none"}),a>l)return i({x:0,y:0,scale:a},"touchZoom");var v=e.current.offsetWidth*l,R=e.current.offsetHeight*l,x=e.current.getBoundingClientRect(),b=x.left,y=x.top,j=c%180!==0,I=sn(j?R:v,j?v:R,b,y);I&&i(q({},I),"dragRebound")}};return r.useEffect(function(){var p;return n&&t&&(p=Ve(window,"touchmove",function(v){return v.preventDefault()},{passive:!1})),function(){var v;(v=p)===null||v===void 0||v.remove()}},[n,t]),{isTouching:h,onTouchStart:C,onTouchMove:P,onTouchEnd:M}}var Xr=["fallback","src","imgRef"],Gr=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Ur=function(t){var n=t.fallback,a=t.src,o=t.imgRef,i=Me(t,Xr),f=ln({src:a,fallback:n}),c=ne(f,2),l=c[0],d=c[1];return _e.createElement("img",de({ref:function(u){o.current=u,l(u)}},i,d))},cn=function(t){var n=t.prefixCls,a=t.src,o=t.alt,i=t.imageInfo,f=t.fallback,c=t.movable,l=c===void 0?!0:c,d=t.onClose,m=t.visible,u=t.icons,S=u===void 0?{}:u,h=t.rootClassName,w=t.closeIcon,N=t.getContainer,$=t.current,C=$===void 0?0:$,P=t.count,M=P===void 0?1:P,p=t.countRender,v=t.scaleStep,R=v===void 0?.5:v,x=t.minScale,b=x===void 0?1:x,y=t.maxScale,j=y===void 0?50:y,I=t.transitionName,T=I===void 0?"zoom":I,A=t.maskTransitionName,L=A===void 0?"fade":A,K=t.imageRender,oe=t.imgCommonProps,ie=t.toolbarRender,X=t.onTransform,U=t.onChange,Q=Me(t,Gr),re=r.useRef(),se=r.useContext(Ke),z=se&&M>1,le=se&&M>=1,J=r.useState(!0),F=ne(J,2),ce=F[0],O=F[1],Z=Br(re,b,j,X),Y=Z.transform,g=Z.resetTransform,D=Z.updateTransform,H=Z.dispatchZoomChange,ue=Fr(re,l,m,R,Y,D,H),fe=ue.isMoving,ee=ue.onMouseDown,W=ue.onWheel,te=Wr(re,l,m,b,Y,D,H),ae=te.isTouching,G=te.onTouchStart,me=te.onTouchMove,Ie=te.onTouchEnd,he=Y.rotate,xe=Y.scale,ke=Ce(V({},"".concat(n,"-moving"),fe));r.useEffect(function(){ce||O(!0)},[ce]);var He=function(){g("close")},Ye=function(){H(Fe+R,"zoomIn")},Se=function(){H(Fe/(Fe+R),"zoomOut")},be=function(){D({rotate:he+90},"rotateRight")},Ee=function(){D({rotate:he-90},"rotateLeft")},Ae=function(){D({flipX:!Y.flipX},"flipX")},Oe=function(){D({flipY:!Y.flipY},"flipY")},st=function(){g("reset")},We=function(Ne){var Le=C+Ne;!Number.isInteger(Le)||Le<0||Le>M-1||(O(!1),g(Ne<0?"prev":"next"),U==null||U(Le,C))},lt=function(Ne){!m||!z||(Ne.keyCode===gt.LEFT?We(-1):Ne.keyCode===gt.RIGHT&&We(1))},Xe=function(Ne){m&&(xe!==1?D({x:0,y:0,scale:1},"doubleClick"):H(Fe+R,"doubleClick",Ne.clientX,Ne.clientY))};r.useEffect(function(){var ve=Ve(window,"keydown",lt,!1);return function(){ve.remove()}},[m,z,C]);var Ge=_e.createElement(Ur,de({},oe,{width:t.width,height:t.height,imgRef:re,className:"".concat(n,"-img"),alt:o,style:{transform:"translate3d(".concat(Y.x,"px, ").concat(Y.y,"px, 0) scale3d(").concat(Y.flipX?"-":"").concat(xe,", ").concat(Y.flipY?"-":"").concat(xe,", 1) rotate(").concat(he,"deg)"),transitionDuration:(!ce||ae)&&"0s"},fallback:f,src:a,onWheel:W,onMouseDown:ee,onDoubleClick:Xe,onTouchStart:G,onTouchMove:me,onTouchEnd:Ie,onTouchCancel:Ie})),Qe=q({url:a,alt:o},i);return _e.createElement(_e.Fragment,null,_e.createElement(Qn,de({transitionName:T,maskTransitionName:L,closable:!1,keyboard:!0,prefixCls:n,onClose:d,visible:m,classNames:{wrapper:ke},rootClassName:h,getContainer:N},Q,{afterClose:He}),_e.createElement("div",{className:"".concat(n,"-img-wrapper")},K?K(Ge,q({transform:Y,image:Qe},se?{current:C}:{})):Ge)),_e.createElement(zr,{visible:m,transform:Y,maskTransitionName:L,closeIcon:w,getContainer:N,prefixCls:n,rootClassName:h,icons:S,countRender:p,showSwitch:z,showProgress:le,current:C,count:M,scale:xe,minScale:b,maxScale:j,toolbarRender:ie,onActive:We,onZoomIn:Ye,onZoomOut:Se,onRotateRight:be,onRotateLeft:Ee,onFlipX:Ae,onFlipY:Oe,onClose:d,onReset:st,zIndex:Q.zIndex!==void 0?Q.zIndex+1:void 0,image:Qe}))},bt=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function Zr(e){var t=r.useState({}),n=ne(t,2),a=n[0],o=n[1],i=r.useCallback(function(c,l){return o(function(d){return q(q({},d),{},V({},c,l))}),function(){o(function(d){var m=q({},d);return delete m[c],m})}},[]),f=r.useMemo(function(){return e?e.map(function(c){if(typeof c=="string")return{data:{src:c}};var l={};return Object.keys(c).forEach(function(d){["src"].concat(Wn(bt)).includes(d)&&(l[d]=c[d])}),{data:l}}):Object.keys(a).reduce(function(c,l){var d=a[l],m=d.canPreview,u=d.data;return m&&c.push({data:u,id:l}),c},[])},[e,a]);return[f,i,!!e]}var qr=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Kr=["src"],Qr=function(t){var n,a=t.previewPrefixCls,o=a===void 0?"rc-image-preview":a,i=t.children,f=t.icons,c=f===void 0?{}:f,l=t.items,d=t.preview,m=t.fallback,u=St(d)==="object"?d:{},S=u.visible,h=u.onVisibleChange,w=u.getContainer,N=u.current,$=u.movable,C=u.minScale,P=u.maxScale,M=u.countRender,p=u.closeIcon,v=u.onChange,R=u.onTransform,x=u.toolbarRender,b=u.imageRender,y=Me(u,qr),j=Zr(l),I=ne(j,3),T=I[0],A=I[1],L=I[2],K=pt(0,{value:N}),oe=ne(K,2),ie=oe[0],X=oe[1],U=r.useState(!1),Q=ne(U,2),re=Q[0],se=Q[1],z=((n=T[ie])===null||n===void 0?void 0:n.data)||{},le=z.src,J=Me(z,Kr),F=pt(!!S,{value:S,onChange:function(ae,G){h==null||h(ae,G,ie)}}),ce=ne(F,2),O=ce[0],Z=ce[1],Y=r.useState(null),g=ne(Y,2),D=g[0],H=g[1],ue=r.useCallback(function(te,ae,G,me){var Ie=L?T.findIndex(function(he){return he.data.src===ae}):T.findIndex(function(he){return he.id===te});X(Ie<0?0:Ie),Z(!0),H({x:G,y:me}),se(!0)},[T,L]);r.useEffect(function(){O?re||X(0):se(!1)},[O]);var fe=function(ae,G){X(ae),v==null||v(ae,G)},ee=function(){Z(!1),H(null)},W=r.useMemo(function(){return{register:A,onPreview:ue}},[A,ue]);return r.createElement(Ke.Provider,{value:W},i,r.createElement(cn,de({"aria-hidden":!O,movable:$,visible:O,prefixCls:o,closeIcon:p,onClose:ee,mousePosition:D,imgCommonProps:J,src:le,fallback:m,icons:c,minScale:C,maxScale:P,getContainer:w,current:ie,count:T.length,countRender:M,onTransform:R,toolbarRender:x,imageRender:b,onChange:fe},y)))},Ut=0;function Jr(e,t){var n=r.useState(function(){return Ut+=1,String(Ut)}),a=ne(n,1),o=a[0],i=r.useContext(Ke),f={data:t,canPreview:e};return r.useEffect(function(){if(i)return i.register(o,f)},[]),r.useEffect(function(){i&&i.register(o,f)},[e,t]),o}var ea=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],ta=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Rt=function(t){var n=t.src,a=t.alt,o=t.onPreviewClose,i=t.prefixCls,f=i===void 0?"rc-image":i,c=t.previewPrefixCls,l=c===void 0?"".concat(f,"-preview"):c,d=t.placeholder,m=t.fallback,u=t.width,S=t.height,h=t.style,w=t.preview,N=w===void 0?!0:w,$=t.className,C=t.onClick,P=t.onError,M=t.wrapperClassName,p=t.wrapperStyle,v=t.rootClassName,R=Me(t,ea),x=d&&d!==!0,b=St(N)==="object"?N:{},y=b.src,j=b.visible,I=j===void 0?void 0:j,T=b.onVisibleChange,A=T===void 0?o:T,L=b.getContainer,K=L===void 0?void 0:L,oe=b.mask,ie=b.maskClassName,X=b.movable,U=b.icons,Q=b.scaleStep,re=b.minScale,se=b.maxScale,z=b.imageRender,le=b.toolbarRender,J=Me(b,ta),F=y??n,ce=pt(!!I,{value:I,onChange:A}),O=ne(ce,2),Z=O[0],Y=O[1],g=ln({src:n,isCustomPlaceholder:x,fallback:m}),D=ne(g,3),H=D[0],ue=D[1],fe=D[2],ee=r.useState(null),W=ne(ee,2),te=W[0],ae=W[1],G=r.useContext(Ke),me=!!N,Ie=function(){Y(!1),ae(null)},he=Ce(f,M,v,V({},"".concat(f,"-error"),fe==="error")),xe=r.useMemo(function(){var Se={};return bt.forEach(function(be){t[be]!==void 0&&(Se[be]=t[be])}),Se},bt.map(function(Se){return t[Se]})),ke=r.useMemo(function(){return q(q({},xe),{},{src:F})},[F,xe]),He=Jr(me,ke),Ye=function(be){var Ee=Un(be.target),Ae=Ee.left,Oe=Ee.top;G?G.onPreview(He,F,Ae,Oe):(ae({x:Ae,y:Oe}),Y(!0)),C==null||C(be)};return r.createElement(r.Fragment,null,r.createElement("div",de({},R,{className:he,onClick:me?Ye:C,style:q({width:u,height:S},p)}),r.createElement("img",de({},xe,{className:Ce("".concat(f,"-img"),V({},"".concat(f,"-img-placeholder"),d===!0),$),style:q({height:S},h),ref:H},ue,{width:u,height:S,onError:P})),fe==="loading"&&r.createElement("div",{"aria-hidden":"true",className:"".concat(f,"-placeholder")},d),oe&&me&&r.createElement("div",{className:Ce("".concat(f,"-mask"),ie),style:{display:(h==null?void 0:h.display)==="none"?"none":void 0}},oe)),!G&&me&&r.createElement(cn,de({"aria-hidden":!Z,visible:Z,prefixCls:l,onClose:Ie,mousePosition:te,src:F,alt:a,imageInfo:{width:u,height:S},fallback:m,getContainer:K,icons:U,movable:X,scaleStep:Q,minScale:re,maxScale:se,rootClassName:v,imageRender:z,imgCommonProps:xe,toolbarRender:le},J)))};Rt.PreviewGroup=Qr;var na={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},ra=function(t,n){return r.createElement(De,de({},t,{ref:n,icon:na}))},aa=r.forwardRef(ra),oa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},ia=function(t,n){return r.createElement(De,de({},t,{ref:n,icon:oa}))},sa=r.forwardRef(ia),la={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},ca=function(t,n){return r.createElement(De,de({},t,{ref:n,icon:la}))},Zt=r.forwardRef(ca),ua={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},da=function(t,n){return r.createElement(De,de({},t,{ref:n,icon:ua}))},fa=r.forwardRef(da),ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},va=function(t,n){return r.createElement(De,de({},t,{ref:n,icon:ma}))},ga=r.forwardRef(va);const xt=e=>({position:e||"absolute",inset:0}),pa=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:a,marginXXS:o,prefixCls:i,colorTextLightSolid:f}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:f,background:new je("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},Xn),{padding:`0 ${ge(a)}`,[t]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},ha=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:a,marginXL:o,margin:i,paddingLG:f,previewOperationColorDisabled:c,previewOperationHoverColor:l,motionDurationSlow:d,iconCls:m,colorTextLightSolid:u}=e,S=new je(n).setAlpha(.1),h=S.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:u,backgroundColor:S.toRgbString(),borderRadius:"50%",padding:a,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:h.toRgbString()},[`& > ${m}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${ge(f)}`,backgroundColor:S.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:a,padding:a,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${m}`]:{color:l},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:e.previewOperationSize}}}}},ba=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:a,previewCls:o,zIndexPopup:i,motionDurationSlow:f}=e,c=new je(t).setAlpha(.1),l=c.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${f}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:a,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},xa=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:a,componentCls:o}=e;return[{[`${o}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},xt()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${a} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},xt()),{transition:`transform ${a} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[ha(e),ba(e)]}]},Sa=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},pa(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},xt())}}},wa=e=>{const{previewCls:t}=e;return{[`${t}-root`]:ar(e,"zoom"),"&":rr(e,!0)}},Ca=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new je(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new je(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new je(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),un=en("Image",e=>{const t=`${e.componentCls}-preview`,n=vt(e,{previewCls:t,modalMaskBg:new je("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Sa(n),xa(n),Jn(vt(n,{componentCls:t})),wa(n)]},Ca);var Ia=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const dn={rotateLeft:r.createElement(aa,null),rotateRight:r.createElement(sa,null),zoomIn:r.createElement(fa,null),zoomOut:r.createElement(ga,null),close:r.createElement(Gn,null),left:r.createElement(tr,null),right:r.createElement(nr,null),flipX:r.createElement(Zt,null),flipY:r.createElement(Zt,{rotate:90})},Na=e=>{var{previewPrefixCls:t,preview:n}=e,a=Ia(e,["previewPrefixCls","preview"]);const{getPrefixCls:o}=r.useContext(wt),i=o("image",t),f=`${i}-preview`,c=o(),l=Ct(i),[d,m,u]=un(i,l),[S]=nn("ImagePreview",typeof n=="object"?n.zIndex:void 0),h=r.useMemo(()=>{var w;if(n===!1)return n;const N=typeof n=="object"?n:{},$=$e(m,u,l,(w=N.rootClassName)!==null&&w!==void 0?w:"");return Object.assign(Object.assign({},N),{transitionName:at(c,"zoom",N.transitionName),maskTransitionName:at(c,"fade",N.maskTransitionName),rootClassName:$,zIndex:S})},[n]);return d(r.createElement(Rt.PreviewGroup,Object.assign({preview:h,previewPrefixCls:f,icons:dn},a)))},Ra=Na;var qt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const fn=e=>{var t;const{prefixCls:n,preview:a,className:o,rootClassName:i,style:f}=e,c=qt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:l,locale:d=Dt,getPopupContainer:m,image:u}=r.useContext(wt),S=l("image",n),h=l(),w=d.Image||Dt.Image,N=Ct(S),[$,C,P]=un(S,N),M=$e(i,C,P,N),p=$e(o,C,u==null?void 0:u.className),[v]=nn("ImagePreview",typeof a=="object"?a.zIndex:void 0),R=r.useMemo(()=>{var b;if(a===!1)return a;const y=typeof a=="object"?a:{},{getContainer:j,closeIcon:I}=y,T=qt(y,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:r.createElement("div",{className:`${S}-mask-info`},r.createElement(kn,null),w==null?void 0:w.preview),icons:dn},T),{getContainer:j??m,transitionName:at(h,"zoom",y.transitionName),maskTransitionName:at(h,"fade",y.maskTransitionName),zIndex:v,closeIcon:I??((b=u==null?void 0:u.preview)===null||b===void 0?void 0:b.closeIcon)})},[a,w,(t=u==null?void 0:u.preview)===null||t===void 0?void 0:t.closeIcon]),x=Object.assign(Object.assign({},u==null?void 0:u.style),f);return $(r.createElement(Rt,Object.assign({prefixCls:S,preview:R,rootClassName:M,className:p,style:x},c)))};fn.PreviewGroup=Ra;var Ea={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},ya=function(t,n){return r.createElement(De,de({},t,{ref:n,icon:Ea}))},$a=r.forwardRef(ya);const{Title:nt,Text:Be,Paragraph:mt}=ur;function Oo({ayuda:e,donation:t,ayudaApplicant:n,assistanceReceived:a,needsDonations:o,needsVolunteer:i,volunteerOpportunities:f,userVolunteerApplications:c}){var O,Z,Y;const{data:l,setData:d,post:m,errors:u,processing:S}=mn({files:{},donation_id:"",donation_type:"money",amount:"",reference_number:"",receipt:null});Et().props;const[h,w]=r.useState({}),[N,$]=r.useState((n==null?void 0:n.status)||"not_applied"),[C,P]=r.useState((n==null?void 0:n.assistance_received)||!1),[M,p]=r.useState(!1),[v,R]=r.useState([]),[x,b]=r.useState(!1),[y,j]=r.useState(null),[I,T]=r.useState(!1),[A,L]=r.useState(""),[K,oe]=r.useState(!1);r.useEffect(()=>{n!=null&&n.status&&(n==null?void 0:n.status)!==N&&$(n.status),n!=null&&n.assistance_received&&P(!0)},[n]),r.useEffect(()=>{c&&c.length>0?oe(!0):oe(!1)},[c]);const ie=()=>{if(e!=null&&e.requirements&&e.requirements.length>0&&e.requirements.some(D=>!l.files[D.id])){ye.error("Please upload all required documents before applying.");return}m(route("ayudas.apply",e.id),{data:{files:l.files},onSuccess:()=>{$("pending"),ye.success("Applied successfully. You will be notified if approved.")},onError:()=>{ye.error("Failed to apply for the ayuda.")}})},X=g=>l.files[g]?s.jsx(pe,{icon:s.jsx($t,{}),type:"primary",children:"Uploaded"}):s.jsx(pe,{icon:s.jsx(Vt,{}),children:"Upload"}),U=({event:g})=>{const D=window.location.href,H=g.name,ue=[{name:"Facebook",icon:s.jsx(vr,{className:"text-xl"}),url:`https://www.facebook.com/sharer/sharer.php?u=${D}`,color:"bg-[#1877f2] hover:bg-[#166fe5]"},{name:"Twitter",icon:s.jsx(gr,{className:"text-xl"}),url:`https://twitter.com/intent/tweet?url=${D}&text=${H}`,color:"bg-[#1da1f2] hover:bg-[#1a94da]"},{name:"WhatsApp",icon:s.jsx(pr,{className:"text-xl"}),url:`https://wa.me/?text=${H}%20${D}`,color:"bg-[#25d366] hover:bg-[#22c35e]"}];return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Share This Event"}),s.jsx("div",{className:"flex gap-3",children:ue.map(fe=>s.jsx("button",{onClick:()=>window.open(fe.url,"_blank"),className:`${fe.color} text-white p-3 rounded-full transition-all duration-300 transform hover:scale-110`,"aria-label":`Share on ${fe.name}`,children:fe.icon},fe.name))})]})},Q=(g,D)=>{d("files",{...l.files,[g]:D});const H=new FileReader;H.onloadend=()=>{w(ue=>({...ue,[g]:H.result}))},D&&H.readAsDataURL(D)},re=async()=>{if(!l.amount||!l.reference_number){ye.error("Please fill in all required fields");return}b(!0);const g=new FormData;g.append("amount",l.amount),g.append("reference_number",l.reference_number),l.receipt&&g.append("receipt",l.receipt),m(route("ayudas.donate",e.id),{onSuccess:()=>{b(!1),p(!1),reset(),R([]),ye.success("Donation submitted successfully!")},onError:D=>{b(!1),Object.keys(D).forEach(H=>{ye.error(D[H])})}})},se=({fileList:g})=>{R(g),g.length>0?d("receipt",g[0].originFileObj):d("receipt",null)},z=()=>{if(!y){ye.error("Please select a volunteer position");return}m(route("ayudas.volunteer",e.id),{data:{volunteer_opportunity_id:y,notes:A},onSuccess:()=>{ye.success("Volunteer application submitted successfully!"),T(!1),j(null),L("")},onError:g=>{console.error("Volunteer submission error:",g),ye.error("Failed to submit volunteer application.")}})};r.useEffect(()=>{console.log("Volunteer Opportunities:",f)},[f]);const le=()=>C?s.jsx(pe,{type:"primary",disabled:!0,icon:s.jsx($a,{}),style:{width:"100%"},children:"Assistance Received"}):N==="pending"?s.jsx(pe,{type:"primary",danger:!0,icon:s.jsx(Bt,{}),style:{width:"100%"},children:"Pending Approval"}):N==="approved"?s.jsx(pe,{type:"primary",disabled:!0,icon:s.jsx($t,{}),style:{width:"100%"},children:"Application Approved"}):s.jsx(pe,{type:"primary",onClick:ie,icon:s.jsx(Vt,{}),style:{width:"100%"},children:"Apply for Ayuda"}),J=()=>C?"completed":N==="approved"?"approved":N==="pending"?"pending":"not_applied",F=[{title:"Not Applied",status:"not_applied"},{title:"Pending",status:"pending"},{title:"Approved",status:"approved"},{title:"Completed",status:"completed"}],ce=F.findIndex(g=>g.status===J());return s.jsxs(gn,{user:Et().props.auth.user,children:[s.jsx(vn,{title:(e==null?void 0:e.title)||"Ayuda Details"}),s.jsxs(pn.Content,{className:"container mx-auto p-4",children:[s.jsxs(ze,{bordered:!1,className:"mb-6 overflow-hidden",cover:s.jsxs("div",{className:"relative h-[400px] w-full",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 z-10"}),s.jsx("img",{src:`/storage/${e.header}`,alt:"Event Banner",className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-center items-center text-white p-6",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-4",children:e.title}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-lg",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(bn,{}),new Date(e.assistance_date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(xn,{}),e.location]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(jt,{}),s.jsx(Sn,{count:`${e.max_beneficiaries-e.current_beneficiaries} Slots Left`,style:{backgroundColor:e.max_beneficiaries-e.current_beneficiaries>0?"#52c41a":"#ff4d4f",fontSize:"14px",padding:"0 8px"}})]})]})]})]}),children:[s.jsxs(ze,{className:"mb-6",bordered:!1,children:[s.jsx(nt,{level:4,children:"About this Ayuda Program"}),s.jsx(mt,{children:e==null?void 0:e.description}),s.jsxs(Ot,{gutter:[16,16],className:"mt-4",children:[s.jsx(Ze,{span:8,children:s.jsx(ut,{title:"Accepted Beneficiaries",value:e.current_beneficiaries||0,prefix:s.jsx(jt,{})})}),s.jsx(Ze,{span:8,children:s.jsx(ut,{title:"Duration",value:`${(e==null?void 0:e.duration)||1} days`,prefix:s.jsx(_n,{})})}),s.jsx(Ze,{span:8,children:s.jsx(ut,{title:"Status",value:e==null?void 0:e.status,valueStyle:{color:(e==null||e.status,"#52c41a")}})})]})]}),s.jsxs(Ot,{gutter:[24,24],children:[s.jsxs(Ze,{xs:24,lg:16,children:[s.jsx(ze,{className:"mb-6",bordered:!1,children:s.jsx(Pn,{current:ce,items:F.map(g=>({title:g.title,status:J()===g.status?"process":F.findIndex(D=>D.status===g.status)<ce?"finish":"wait"}))})}),s.jsxs(ze,{title:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx("span",{children:"Requirements"})]}),className:"mb-6",bordered:!1,children:[s.jsx(Tn,{message:"Upload Guidelines",description:"Please upload all required documents to apply for this Ayuda. Accepted formats are: .jpg, .png, .pdf.",type:"info",showIcon:!0,icon:s.jsx(Dn,{}),className:"mb-6"}),((O=e==null?void 0:e.requirements)==null?void 0:O.length)>0?s.jsx(Pt,{className:"mt-4",children:e.requirements.map(g=>s.jsx(Pt.Item,{dot:s.jsx(_t,{className:"text-blue-500"}),children:s.jsxs(ze,{className:"mb-4",size:"small",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(Be,{strong:!0,children:g.requirement_name}),s.jsx(Be,{type:"secondary",className:"block mt-1",children:"Required document"})]}),s.jsx(Tt,{beforeUpload:D=>(Q(g.id,D),!1),maxCount:1,fileList:l.files[g.id]?[l.files[g.id]]:[],onRemove:()=>Q(g.id,null),showUploadList:!1,children:X(g.id)})]}),h[g.id]&&s.jsx(fn,{src:h[g.id],alt:"Preview",className:"mt-4",width:200}),u&&u[`files.${g.id}`]&&s.jsx(Be,{type:"danger",className:"mt-2",children:u[`files.${g.id}`]})]})},g.id))}):s.jsx(At,{description:"No requirements needed"})]}),s.jsx(U,{event:e})]}),s.jsx(Ze,{xs:24,lg:8,children:s.jsxs(ze,{bordered:!1,className:"sticky top-24",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(nt,{level:4,children:"Application Status"}),le()]}),s.jsx(Je,{}),s.jsxs("div",{className:"mb-6",children:[s.jsx(nt,{level:4,children:"Support this Program"}),o&&s.jsxs(s.Fragment,{children:[s.jsx(or,{percent:Math.round((e==null?void 0:e.donation_raised)/((Z=e==null?void 0:e.donation)==null?void 0:Z.goal)*100),status:"active",className:"mb-4"}),s.jsxs(mt,{className:"text-center",children:[s.jsxs(Be,{strong:!0,children:["₱",e==null?void 0:e.donation_raised]})," raised of"," ",s.jsxs(Be,{strong:!0,children:["₱",(Y=e==null?void 0:e.donation)==null?void 0:Y.goal]})," goal"]}),s.jsx(pe,{type:"primary",icon:s.jsx(ir,{}),onClick:()=>p(!0),block:!0,children:"Donate Now"})]})]}),s.jsx(Je,{}),s.jsxs("div",{children:[s.jsx(nt,{level:4,children:"Volunteer Opportunities"}),i?s.jsxs(s.Fragment,{children:[s.jsxs(mt,{children:[s.jsx(Be,{strong:!0,children:e==null?void 0:e.volunteer_slots})," slots available"]}),K?s.jsx(pe,{block:!0,disabled:!0,icon:s.jsx(Bt,{}),children:"Application Pending"}):s.jsx(pe,{type:"primary",icon:s.jsx(sr,{}),onClick:()=>T(!0),block:!0,children:"Apply to Volunteer"})]}):s.jsx(At,{description:"No volunteer opportunities available"})]})]})})]})]}),s.jsx(Je,{}),s.jsx(kt,{title:"Make a Donation",open:M,onCancel:()=>{p(!1),reset(),R([])},footer:[s.jsx(pe,{onClick:()=>{p(!1),reset(),R([])},children:"Cancel"},"cancel"),s.jsx(pe,{type:"primary",onClick:re,loading:x,disabled:!l.amount||!l.reference_number||x,children:"Confirm Donation"},"submit")],children:s.jsxs(et,{layout:"vertical",children:[s.jsx(et.Item,{label:"Donation Amount",required:!0,validateStatus:!l.amount&&"error",help:!l.amount&&"Please enter donation amount",children:s.jsx(on,{placeholder:"Enter Donation Amount",value:l.amount,onChange:g=>d("amount",g),min:1,className:"w-full",formatter:g=>`₱ ${g}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:g=>g.replace(/₱\s?|(,*)/g,"")})}),s.jsx(et.Item,{label:"GCash Reference Number",required:!0,validateStatus:!l.reference_number&&"error",help:!l.reference_number&&"Please enter reference number",children:s.jsx(Ft,{placeholder:"Enter GCash Reference Number",value:l.reference_number,onChange:g=>d("reference_number",g.target.value)})}),s.jsx(et.Item,{label:"Upload Receipt",validateStatus:v.length===0&&"warning",help:"Optional: Upload receipt for verification",children:s.jsx(Tt,{listType:"picture-card",fileList:v,onChange:se,beforeUpload:()=>!1,maxCount:1,children:v.length>=1?null:s.jsxs("div",{children:[s.jsx(hn,{}),s.jsx("div",{className:"mt-2",children:"Upload Receipt"})]})})})]})}),s.jsx(Je,{}),s.jsx(kt,{title:"Volunteer Application",open:I,onCancel:()=>T(!1),onOk:z,footer:[s.jsx(pe,{onClick:()=>T(!1),children:"Cancel"},"cancel"),s.jsx(pe,{type:"primary",onClick:z,disabled:!y||x,children:"Apply"},"submit")],children:s.jsxs(yt,{direction:"vertical",style:{width:"100%"},children:[s.jsx(Lt,{style:{width:"100%"},placeholder:"Select a volunteer position",value:y,onChange:g=>j(g),children:f==null?void 0:f.map(g=>s.jsxs(Lt.Option,{value:g.id,children:[g.role_title," (",g.slots," slots)"]},g.id))}),s.jsx(Ft.TextArea,{placeholder:"Why would you like to volunteer? (Optional)",value:A,onChange:g=>L(g.target.value),rows:4})]})})]})]})}export{Oo as default};
