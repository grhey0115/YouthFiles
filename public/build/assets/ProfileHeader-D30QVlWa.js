import{r as i,j as a,b as d}from"./app-DbgwDCQR.js";import{C as f}from"./index-aEjf0pBo.js";import{A as x}from"./index-BDhiJVo3.js";import{R as v}from"./UserOutlined-CN0QnvMs.js";import{U as h}from"./index-CWPrh4N9.js";import{T as g}from"./index-CoGEig71.js";import{B as u}from"./button-BeIDC77s.js";import{I as b,_ as j}from"./KeyCode-B98qwEHk.js";import{R as w}from"./CheckCircleFilled-CqKSgjp8.js";import{s as t}from"./index-Dc46TUNE.js";import"./index-BFTNhID1.js";import"./Skeleton-CDkIKx5f.js";import"./CloseOutlined-DIR-yomB.js";import"./EllipsisOutlined-DDu3pgoy.js";import"./responsiveObserver-2YMebKjr.js";import"./asyncToGenerator-1ZsjUJVg.js";import"./useBreakpoint-B1vn5vaL.js";import"./colors-DJ9azOgj.js";import"./useZIndex-tLrB1ewf.js";import"./collapse-BbEVqHco.js";import"./fade-DyWzk-Bk.js";import"./DeleteOutlined-D6BVE3ZI.js";import"./EyeOutlined-DhfopHHq.js";import"./progress-lRO8rVRK.js";import"./compact-item-e1NxggHa.js";import"./render-BXyLa_zz.js";import"./context-DlbZ9Qay.js";import"./ExclamationCircleFilled-DEhqqzrm.js";import"./InfoCircleFilled-DCKnBfB8.js";var N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},y=function(o,s){return i.createElement(b,j({},o,{ref:s,icon:N}))},R=i.forwardRef(y);function aa({user:e}){const[o,s]=i.useState(e.avatar?`/storage/avatars/${e.avatar}`:"/default_avatar1.png"),l=async({file:n,onSuccess:c,onError:p})=>{const m=new FormData;m.append("avatar",n);try{const r=await d.post(route("profile.updateAvatar"),m,{headers:{"Content-Type":"multipart/form-data"}});s(r.data.avatar),t.success(r.data.message),c(r.data)}catch(r){console.error("Avatar upload error:",r),r.response?(console.error("Server responded with:",r.response.data),t.error(r.response.data.message||r.response.data.error||"Failed to upload avatar")):r.request?(console.error("No response received:",r.request),t.error("No response from server")):(console.error("Error setting up request:",r.message),t.error("Error uploading avatar")),p(r)}};return a.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:a.jsxs(f,{bordered:!1,className:"flex items-center bg-gradient-to-br from-red-400 via-blue-500 to-yellow-400 text-white p-6 rounded-t-lg relative shadow-lg",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx(x,{src:o,size:100,icon:a.jsx(v,{}),alt:"User Avatar",className:"object-cover border-4 border-white shadow-md"}),a.jsx(h,{name:"avatar",accept:"image/*",showUploadList:!1,customRequest:l,children:a.jsx(g,{title:"Change Avatar",children:a.jsx(u,{icon:a.jsx(R,{}),className:"absolute bottom-0 right-0 bg-gray-800 p-2 rounded-full text-white hover:bg-gray-700",style:{position:"absolute",bottom:"-3px",right:"5px",zIndex:10}})})})]}),a.jsxs("div",{className:"ml-4 flex flex-col",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("h1",{className:"text-xl font-semibold mr-2",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),e.account_status==="verified"&&a.jsx(w,{style:{color:"yellow",fontSize:"16px"}})]}),a.jsx("p",{className:"text-gray-200",children:e==null?void 0:e.email})]})]})})}export{aa as default};
