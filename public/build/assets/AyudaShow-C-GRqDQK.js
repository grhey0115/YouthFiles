import{r as a,G as _e,W as mn,q as Et,j as s,Y as vn}from"./app-DbgwDCQR.js";import{A as gn,L as pn,S as yt,R as $t}from"./AuthenticatedLayout-wAnVCWe8.js";import{C as Le,R as hn}from"./index-aEjf0pBo.js";import{R as bn}from"./CalendarOutlined-CJm5NcVw.js";import{R as xn}from"./EnvironmentOutlined-DepYESSt.js";import{R as jt}from"./TeamOutlined-DEST0Fbh.js";import{B as Sn}from"./HomeOutlined-C7PNhMil.js";import{i as wn,a as Cn,g as Kt,b as In,c as Nn,d as Rn,e as En,f as yn,h as $n,j as jn,u as Mn,k as Mt,l as On,R as Ot,C as Ze}from"./row-CmTRvdGv.js";import{S as ut}from"./index-yuXH6Ygt.js";import{R as _n}from"./ClockCircleOutlined-BAsKnLey.js";import{S as Pn}from"./index-DfPu5HSW.js";import{R as _t}from"./FileTextOutlined-Dm1tE5II.js";import{A as Tn}from"./index-f82A52t5.js";import{R as kn}from"./InfoCircleOutlined-DpJkxdmQ.js";import{T as Pt}from"./Timeline-BXFthauL.js";import{U as Tt}from"./index-CWPrh4N9.js";import{R as Dn}from"./EyeOutlined-DhfopHHq.js";import{a as Qt,b as Jt,c as F,w as An,d as ne,u as Ln,e as qe,f as Ce,_ as fe,g as Me,h as St,i as dt,j as zn,T as je,k as en,m as vt,r as ft,l as ge,n as Bn,C as wt,o as Ct,D as Vn,p as $e,q as Fn,s as Hn,t as q,K as gt,v as Yn,x as Wn,I as Fe,y as Xn,z as kt}from"./KeyCode-B98qwEHk.js";import{R as Gn,g as tn,a as Be,b as Un}from"./addEventListener-jnG-yeO5.js";import{i as Zn,u as qn,P as Kn,a as pt,g as at}from"./index-BFTNhID1.js";import{D as Qn,g as Jn,M as Dt}from"./index-CoH_l0tO.js";import{u as nn}from"./useZIndex-tLrB1ewf.js";import{R as er}from"./CloseOutlined-DIR-yomB.js";import{R as tr,a as nr,b as rr,E as At,S as Lt}from"./index-Dr5FKUpM.js";import{i as ar}from"./fade-DyWzk-Bk.js";import{C as zt,i as or}from"./index-CoGEig71.js";import{D as Je}from"./index-LxDLPpHt.js";import{P as ir}from"./progress-lRO8rVRK.js";import{B as pe}from"./button-BeIDC77s.js";import{R as sr}from"./DollarCircleOutlined-I9hvtHIE.js";import{R as Bt,a as Vt}from"./UploadOutlined-Dbn9A8OL.js";import{R as lr}from"./HeartOutlined-DI_2cGtW.js";import{F as et}from"./index-2bkOm2FA.js";import{B as cr,t as ur,T as dr}from"./index-DusIXW1R.js";import{F as fr}from"./responsiveObserver-2YMebKjr.js";import{g as mr,u as vr}from"./compact-item-e1NxggHa.js";import{I as Ft}from"./index-DZ6KHcTM.js";import{s as ye}from"./index-Dc46TUNE.js";import{R as gr,a as pr,b as hr,c as br}from"./WhatsAppOutlined-DaeEyyik.js";import"./asyncToGenerator-1ZsjUJVg.js";import"./EllipsisOutlined-DDu3pgoy.js";import"./collapse-BbEVqHco.js";import"./UserOutlined-CN0QnvMs.js";import"./SettingOutlined-DkPiynSm.js";import"./PurePanel-DY_vS5pl.js";import"./index-BDhiJVo3.js";import"./useBreakpoint-B1vn5vaL.js";import"./colors-DJ9azOgj.js";import"./useClosable-BI8GR9gs.js";import"./Skeleton-CDkIKx5f.js";import"./CheckCircleFilled-CqKSgjp8.js";import"./ExclamationCircleFilled-DEhqqzrm.js";import"./InfoCircleFilled-DCKnBfB8.js";import"./DeleteOutlined-D6BVE3ZI.js";import"./render-BXyLa_zz.js";import"./index-CUWDS_la.js";import"./EditOutlined-CcOrQ41O.js";import"./context-DlbZ9Qay.js";function ht(){return typeof BigInt=="function"}function rn(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function Te(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),i=o[0]||"0",f=o[1]||"0";i==="0"&&f==="0"&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:r,integerStr:i,decimalStr:f,fullStr:"".concat(c).concat(r)}}function It(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Pe(e){var t=String(e);if(It(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&Nt(t)?t.length-t.indexOf(".")-1:0}function it(e){var t=String(e);if(It(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ht()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ht()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Pe(t))}return Te(t).fullStr}function Nt(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var xr=function(){function e(t){if(Jt(this,e),F(this,"origin",""),F(this,"negative",void 0),F(this,"integer",void 0),F(this,"decimal",void 0),F(this,"decimalLen",void 0),F(this,"empty",void 0),F(this,"nan",void 0),rn(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(It(n)&&(n=Number(n)),n=typeof n=="string"?n:it(n),Nt(n)){var r=Te(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Qt(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,o){var i=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),f=this.alignDecimal(i),c=n.alignDecimal(i),l=r(f,c).toString(),d=o(i),m=Te(l),u=m.negativeStr,S=m.trimStr,h="".concat(u).concat(S.padStart(d+1,"0"));return new e("".concat(h.slice(0,-d),".").concat(h.slice(-d)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(o,i){return o+i},function(o){return o})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(o,i){return o*i},function(o){return o*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Te("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),Sr=function(){function e(t){if(Jt(this,e),F(this,"origin",""),F(this,"number",void 0),F(this,"empty",void 0),rn(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Qt(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var o=this.number+r;if(o>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(Pe(this.number),Pe(r));return new e(o.toFixed(i))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var o=this.number*r;if(o>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(Pe(this.number),Pe(r));return new e(o.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":it(this.number):this.origin}}]),e}();function we(e){return ht()?new xr(e):new Sr(e)}function rt(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var o=Te(e),i=o.negativeStr,f=o.integerStr,c=o.decimalStr,l="".concat(t).concat(c),d="".concat(i).concat(f);if(n>=0){var m=Number(c[n]);if(m>=5&&!r){var u=we(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-m));return rt(u.toString(),t,n,r)}return n===0?d:"".concat(d).concat(t).concat(c.padEnd(n,"0").slice(0,n))}return l===".0"?d:"".concat(d).concat(l)}function wr(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,o){if(t[o])return t[o];var i=r[o];return typeof i=="function"?i.bind(r):i}}):e}function Cr(e,t){var n=a.useRef(null);function r(){try{var i=e.selectionStart,f=e.selectionEnd,c=e.value,l=c.substring(0,i),d=c.substring(f);n.current={start:i,end:f,value:c,beforeTxt:l,afterTxt:d}}catch{}}function o(){if(e&&n.current&&t)try{var i=e.value,f=n.current,c=f.beforeTxt,l=f.afterTxt,d=f.start,m=i.length;if(i.startsWith(c))m=c.length;else if(i.endsWith(l))m=i.length-n.current.afterTxt.length;else{var u=c[d-1],S=i.indexOf(u,d-1);S!==-1&&(m=S+1)}e.setSelectionRange(m,m)}catch(h){An(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(h.message))}}return[r,o]}var Ir=function(){var t=a.useState(!1),n=ne(t,2),r=n[0],o=n[1];return Ln(function(){o(Zn())},[]),r},Nr=200,Rr=600;function Er(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,o=e.upDisabled,i=e.downDisabled,f=e.onStep,c=a.useRef(),l=a.useRef([]),d=a.useRef();d.current=f;var m=function(){clearTimeout(c.current)},u=function(M,p){M.preventDefault(),m(),d.current(p);function v(){d.current(p),c.current=setTimeout(v,Nr)}c.current=setTimeout(v,Rr)};a.useEffect(function(){return function(){m(),l.current.forEach(function(P){return qe.cancel(P)})}},[]);var S=Ir();if(S)return null;var h="".concat(t,"-handler"),w=Ce(h,"".concat(h,"-up"),F({},"".concat(h,"-up-disabled"),o)),N=Ce(h,"".concat(h,"-down"),F({},"".concat(h,"-down-disabled"),i)),$=function(){return l.current.push(qe(m))},C={unselectable:"on",role:"button",onMouseUp:$,onMouseLeave:$};return a.createElement("div",{className:"".concat(h,"-wrap")},a.createElement("span",fe({},C,{onMouseDown:function(M){u(M,!0)},"aria-label":"Increase Value","aria-disabled":o,className:w}),n||a.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),a.createElement("span",fe({},C,{onMouseDown:function(M){u(M,!1)},"aria-label":"Decrease Value","aria-disabled":i,className:N}),r||a.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function Ht(e){var t=typeof e=="number"?it(e):Te(e).fullStr,n=t.includes(".");return n?Te(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const yr=function(){var e=a.useRef(0),t=function(){qe.cancel(e.current)};return a.useEffect(function(){return t},[]),function(n){t(),e.current=qe(function(){n()})}};var $r=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],jr=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Yt=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},Wt=function(t){var n=we(t);return n.isInvalidate()?null:n},Mr=a.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,o=e.style,i=e.min,f=e.max,c=e.step,l=c===void 0?1:c,d=e.defaultValue,m=e.value,u=e.disabled,S=e.readOnly,h=e.upHandler,w=e.downHandler,N=e.keyboard,$=e.changeOnWheel,C=$===void 0?!1:$,P=e.controls,M=P===void 0?!0:P;e.classNames;var p=e.stringMode,v=e.parser,R=e.formatter,x=e.precision,b=e.decimalSeparator,y=e.onChange,j=e.onInput,I=e.onPressEnter,k=e.onStep,A=e.changeOnBlur,L=A===void 0?!0:A,K=e.domRef,oe=Me(e,$r),ie="".concat(n,"-input"),X=a.useRef(null),U=a.useState(!1),Q=ne(U,2),re=Q[0],se=Q[1],z=a.useRef(!1),le=a.useRef(!1),J=a.useRef(!1),H=a.useState(function(){return we(m??d)}),ce=ne(H,2),O=ce[0],Z=ce[1];function Y(_){m===void 0&&Z(_)}var g=a.useCallback(function(_,E){if(!E)return x>=0?x:Math.max(Pe(_),Pe(l))},[x,l]),T=a.useCallback(function(_){var E=String(_);if(v)return v(E);var B=E;return b&&(B=B.replace(b,".")),B.replace(/[^\w.-]+/g,"")},[v,b]),V=a.useRef(""),ue=a.useCallback(function(_,E){if(R)return R(_,{userTyping:E,input:String(V.current)});var B=typeof _=="number"?it(_):_;if(!E){var D=g(B,E);if(Nt(B)&&(b||D>=0)){var Re=b||".";B=rt(B,Re,D)}}return B},[R,g,b]),de=a.useState(function(){var _=d??m;return O.isInvalidate()&&["string","number"].includes(St(_))?Number.isNaN(_)?"":_:ue(O.toString(),!1)}),ee=ne(de,2),W=ee[0],te=ee[1];V.current=W;function ae(_,E){te(ue(_.isInvalidate()?_.toString(!1):_.toString(!E),E))}var G=a.useMemo(function(){return Wt(f)},[f,x]),me=a.useMemo(function(){return Wt(i)},[i,x]),Ie=a.useMemo(function(){return!G||!O||O.isInvalidate()?!1:G.lessEquals(O)},[G,O]),he=a.useMemo(function(){return!me||!O||O.isInvalidate()?!1:O.lessEquals(me)},[me,O]),xe=Cr(X.current,re),ke=ne(xe,2),He=ke[0],Ye=ke[1],Se=function(E){return G&&!E.lessEquals(G)?G:me&&!me.lessEquals(E)?me:null},be=function(E){return!Se(E)},Ee=function(E,B){var D=E,Re=be(D)||D.isEmpty();if(!D.isEmpty()&&!B&&(D=Se(D)||D,Re=!0),!S&&!u&&Re){var Ue=D.toString(),ct=g(Ue,B);return ct>=0&&(D=we(rt(Ue,".",ct)),be(D)||(D=we(rt(Ue,".",ct,!0)))),D.equals(O)||(Y(D),y==null||y(D.isEmpty()?null:Yt(p,D)),m===void 0&&ae(D,B)),D}return O},De=yr(),Oe=function _(E){if(He(),V.current=E,te(E),!le.current){var B=T(E),D=we(B);D.isNaN()||Ee(D,!0)}j==null||j(E),De(function(){var Re=E;v||(Re=E.replace(/。/g,".")),Re!==E&&_(Re)})},st=function(){le.current=!0},We=function(){le.current=!1,Oe(X.current.value)},lt=function(E){Oe(E.target.value)},Xe=function(E){var B;if(!(E&&Ie||!E&&he)){z.current=!1;var D=we(J.current?Ht(l):l);E||(D=D.negate());var Re=(O||we(0)).add(D.toString()),Ue=Ee(Re,!1);k==null||k(Yt(p,Ue),{offset:J.current?Ht(l):l,type:E?"up":"down"}),(B=X.current)===null||B===void 0||B.focus()}},Ge=function(E){var B=we(T(W)),D;B.isNaN()?D=Ee(O,E):D=Ee(B,E),m!==void 0?ae(O,!1):D.isNaN()||ae(D,!1)},Qe=function(){z.current=!0},ve=function(E){var B=E.key,D=E.shiftKey;z.current=!0,J.current=D,B==="Enter"&&(le.current||(z.current=!1),Ge(!1),I==null||I(E)),N!==!1&&!le.current&&["Up","ArrowUp","Down","ArrowDown"].includes(B)&&(Xe(B==="Up"||B==="ArrowUp"),E.preventDefault())},Ne=function(){z.current=!1,J.current=!1};a.useEffect(function(){if(C&&re){var _=function(D){Xe(D.deltaY<0),D.preventDefault()},E=X.current;if(E)return E.addEventListener("wheel",_,{passive:!1}),function(){return E.removeEventListener("wheel",_)}}});var Ae=function(){L&&Ge(!1),se(!1),z.current=!1};return dt(function(){O.isInvalidate()||ae(O,!1)},[x,R]),dt(function(){var _=we(m);Z(_);var E=we(T(W));(!_.equals(E)||!z.current||R)&&ae(_,z.current)},[m]),dt(function(){R&&Ye()},[W]),a.createElement("div",{ref:K,className:Ce(n,r,F(F(F(F(F({},"".concat(n,"-focused"),re),"".concat(n,"-disabled"),u),"".concat(n,"-readonly"),S),"".concat(n,"-not-a-number"),O.isNaN()),"".concat(n,"-out-of-range"),!O.isInvalidate()&&!be(O))),style:o,onFocus:function(){se(!0)},onBlur:Ae,onKeyDown:ve,onKeyUp:Ne,onCompositionStart:st,onCompositionEnd:We,onBeforeInput:Qe},M&&a.createElement(Er,{prefixCls:n,upNode:h,downNode:w,upDisabled:Ie,downDisabled:he,onStep:Xe}),a.createElement("div",{className:"".concat(ie,"-wrap")},a.createElement("input",fe({autoComplete:"off",role:"spinbutton","aria-valuemin":i,"aria-valuemax":f,"aria-valuenow":O.isInvalidate()?null:O.toString(),step:l},oe,{ref:zn(X,t),className:ie,value:W,onChange:lt,disabled:u,readOnly:S}))))}),Or=a.forwardRef(function(e,t){var n=e.disabled,r=e.style,o=e.prefixCls,i=o===void 0?"rc-input-number":o,f=e.value,c=e.prefix,l=e.suffix,d=e.addonBefore,m=e.addonAfter,u=e.className,S=e.classNames,h=Me(e,jr),w=a.useRef(null),N=a.useRef(null),$=a.useRef(null),C=function(M){$.current&&ur($.current,M)};return a.useImperativeHandle(t,function(){return wr($.current,{nativeElement:w.current.nativeElement||N.current})}),a.createElement(cr,{className:u,triggerFocus:C,prefixCls:i,value:f,disabled:n,style:r,prefix:c,suffix:l,addonAfter:m,addonBefore:d,classNames:S,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:w},a.createElement(Mr,fe({prefixCls:i,disabled:n,ref:$,domRef:N,className:S==null?void 0:S.input},h)))});const _r=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},wn(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new je(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0})},Xt=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:o}=e;const i=t==="lg"?o:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:i,borderEndEndRadius:i},[`${n}-handler-up`]:{borderStartEndRadius:i},[`${n}-handler-down`]:{borderEndEndRadius:i}}}},Pr=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:o,inputFontSizeSM:i,inputFontSizeLG:f,controlHeightLG:c,controlHeightSM:l,colorError:d,paddingInlineSM:m,paddingBlockSM:u,paddingBlockLG:S,paddingInlineLG:h,colorTextDescription:w,motionDurationMid:N,handleHoverColor:$,handleOpacity:C,paddingInline:P,paddingBlock:M,handleBg:p,handleActiveBg:v,colorTextDisabled:R,borderRadiusSM:x,borderRadiusLG:b,controlWidth:y,handleBorderColor:j,filledHandleBg:I,lineHeightLG:k,calc:A}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ft(e)),Kt(e)),{display:"inline-block",width:y,margin:0,padding:0,borderRadius:o}),In(e,{[`${t}-handler-wrap`]:{background:p,[`${t}-handler-down`]:{borderBlockStart:`${ge(n)} ${r} ${j}`}}})),Nn(e,{[`${t}-handler-wrap`]:{background:I,[`${t}-handler-down`]:{borderBlockStart:`${ge(n)} ${r} ${j}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:p}}})),Rn(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:f,lineHeight:k,borderRadius:b,[`input${t}-input`]:{height:A(c).sub(A(n).mul(2)).equal(),padding:`${ge(S)} ${ge(h)}`}},"&-sm":{padding:0,fontSize:i,borderRadius:x,[`input${t}-input`]:{height:A(l).sub(A(n).mul(2)).equal(),padding:`${ge(u)} ${ge(m)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:d}}},"&-group":Object.assign(Object.assign(Object.assign({},ft(e)),En(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:b,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:x}}},yn(e)),$n(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},ft(e)),{width:"100%",padding:`${ge(M)} ${ge(P)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${N} linear`,appearance:"textfield",fontSize:"inherit"}),jn(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:0,opacity:C,height:"100%",borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${N}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:w,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${ge(n)} ${r} ${j}`,transition:`all ${N} linear`,"&:active":{background:v},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:$}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},Bn()),{color:w,transition:`all ${N} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:o},[`${t}-handler-down`]:{borderEndEndRadius:o}},Xt(e,"lg")),Xt(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:R}})}]},Tr=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:o,controlWidth:i,borderRadiusLG:f,borderRadiusSM:c,paddingInlineLG:l,paddingInlineSM:d,paddingBlockLG:m,paddingBlockSM:u,motionDurationMid:S}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${ge(n)} 0`}},Kt(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:i,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:f,paddingInlineStart:l,[`input${t}-input`]:{padding:`${ge(m)} 0`}},"&-sm":{borderRadius:c,paddingInlineStart:d,[`input${t}-input`]:{padding:`${ge(u)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:o,transition:`margin ${S}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}})}},kr=en("InputNumber",e=>{const t=vt(e,Cn(e));return[Pr(t),Tr(t),mr(t)]},_r,{unitless:{handleOpacity:!0}});var Dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const an=a.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=a.useContext(wt),o=a.useRef(null);a.useImperativeHandle(t,()=>o.current);const{className:i,rootClassName:f,size:c,disabled:l,prefixCls:d,addonBefore:m,addonAfter:u,prefix:S,suffix:h,bordered:w,readOnly:N,status:$,controls:C,variant:P}=e,M=Dr(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),p=n("input-number",d),v=Ct(p),[R,x,b]=kr(p,v),{compactSize:y,compactItemClassnames:j}=vr(p,r);let I=a.createElement(Gn,{className:`${p}-handler-up-inner`}),k=a.createElement(tr,{className:`${p}-handler-down-inner`});const A=typeof C=="boolean"?C:void 0;typeof C=="object"&&(I=typeof C.upIcon>"u"?I:a.createElement("span",{className:`${p}-handler-up-inner`},C.upIcon),k=typeof C.downIcon>"u"?k:a.createElement("span",{className:`${p}-handler-down-inner`},C.downIcon));const{hasFeedback:L,status:K,isFormItemInput:oe,feedbackIcon:ie}=a.useContext(fr),X=On(K,$),U=qn(O=>{var Z;return(Z=c??y)!==null&&Z!==void 0?Z:O}),Q=a.useContext(Vn),re=l??Q,[se,z]=Mn("inputNumber",P,w),le=L&&a.createElement(a.Fragment,null,ie),J=$e({[`${p}-lg`]:U==="large",[`${p}-sm`]:U==="small",[`${p}-rtl`]:r==="rtl",[`${p}-in-form-item`]:oe},x),H=`${p}-group`,ce=a.createElement(Or,Object.assign({ref:o,disabled:re,className:$e(b,v,i,f,j),upHandler:I,downHandler:k,prefixCls:p,readOnly:N,controls:A,prefix:S,suffix:le||h,addonBefore:m&&a.createElement(zt,{form:!0,space:!0},m),addonAfter:u&&a.createElement(zt,{form:!0,space:!0},u),classNames:{input:J,variant:$e({[`${p}-${se}`]:z},Mt(p,X,L)),affixWrapper:$e({[`${p}-affix-wrapper-sm`]:U==="small",[`${p}-affix-wrapper-lg`]:U==="large",[`${p}-affix-wrapper-rtl`]:r==="rtl",[`${p}-affix-wrapper-without-controls`]:C===!1},x),wrapper:$e({[`${H}-rtl`]:r==="rtl"},x),groupWrapper:$e({[`${p}-group-wrapper-sm`]:U==="small",[`${p}-group-wrapper-lg`]:U==="large",[`${p}-group-wrapper-rtl`]:r==="rtl",[`${p}-group-wrapper-${se}`]:z},Mt(`${p}-group-wrapper`,X,L),x)}},M));return R(ce)}),on=an,Ar=e=>a.createElement(Fn,{theme:{components:{InputNumber:{handleVisible:!0}}}},a.createElement(an,Object.assign({},e)));on._InternalPanelDoNotUseOrYouWillBeFired=Ar;var Ke=a.createContext(null),Lr=function(t){var n=t.visible,r=t.maskTransitionName,o=t.getContainer,i=t.prefixCls,f=t.rootClassName,c=t.icons,l=t.countRender,d=t.showSwitch,m=t.showProgress,u=t.current,S=t.transform,h=t.count,w=t.scale,N=t.minScale,$=t.maxScale,C=t.closeIcon,P=t.onActive,M=t.onClose,p=t.onZoomIn,v=t.onZoomOut,R=t.onRotateRight,x=t.onRotateLeft,b=t.onFlipX,y=t.onFlipY,j=t.onReset,I=t.toolbarRender,k=t.zIndex,A=t.image,L=a.useContext(Ke),K=c.rotateLeft,oe=c.rotateRight,ie=c.zoomIn,X=c.zoomOut,U=c.close,Q=c.left,re=c.right,se=c.flipX,z=c.flipY,le="".concat(i,"-operations-operation");a.useEffect(function(){var ee=function(te){te.keyCode===gt.ESC&&M()};return n&&window.addEventListener("keydown",ee),function(){window.removeEventListener("keydown",ee)}},[n]);var J=function(W,te){W.preventDefault(),W.stopPropagation(),P(te)},H=a.useCallback(function(ee){var W=ee.type,te=ee.disabled,ae=ee.onClick,G=ee.icon;return a.createElement("div",{key:W,className:Ce(le,"".concat(i,"-operations-operation-").concat(W),F({},"".concat(i,"-operations-operation-disabled"),!!te)),onClick:ae},G)},[le,i]),ce=d?H({icon:Q,onClick:function(W){return J(W,-1)},type:"prev",disabled:u===0}):void 0,O=d?H({icon:re,onClick:function(W){return J(W,1)},type:"next",disabled:u===h-1}):void 0,Z=H({icon:z,onClick:y,type:"flipY"}),Y=H({icon:se,onClick:b,type:"flipX"}),g=H({icon:K,onClick:x,type:"rotateLeft"}),T=H({icon:oe,onClick:R,type:"rotateRight"}),V=H({icon:X,onClick:v,type:"zoomOut",disabled:w<=N}),ue=H({icon:ie,onClick:p,type:"zoomIn",disabled:w===$}),de=a.createElement("div",{className:"".concat(i,"-operations")},Z,Y,g,T,V,ue);return a.createElement(Hn,{visible:n,motionName:r},function(ee){var W=ee.className,te=ee.style;return a.createElement(Kn,{open:!0,getContainer:o??document.body},a.createElement("div",{className:Ce("".concat(i,"-operations-wrapper"),W,f),style:q(q({},te),{},{zIndex:k})},C===null?null:a.createElement("button",{className:"".concat(i,"-close"),onClick:M},C||U),d&&a.createElement(a.Fragment,null,a.createElement("div",{className:Ce("".concat(i,"-switch-left"),F({},"".concat(i,"-switch-left-disabled"),u===0)),onClick:function(G){return J(G,-1)}},Q),a.createElement("div",{className:Ce("".concat(i,"-switch-right"),F({},"".concat(i,"-switch-right-disabled"),u===h-1)),onClick:function(G){return J(G,1)}},re)),a.createElement("div",{className:"".concat(i,"-footer")},m&&a.createElement("div",{className:"".concat(i,"-progress")},l?l(u+1,h):"".concat(u+1," / ").concat(h)),I?I(de,q(q({icons:{prevIcon:ce,nextIcon:O,flipYIcon:Z,flipXIcon:Y,rotateLeftIcon:g,rotateRightIcon:T,zoomOutIcon:V,zoomInIcon:ue},actions:{onActive:P,onFlipY:y,onFlipX:b,onRotateLeft:x,onRotateRight:R,onZoomOut:v,onZoomIn:p,onReset:j,onClose:M},transform:S},L?{current:u,total:h}:{}),{},{image:A})):de)))})},tt={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function zr(e,t,n,r){var o=a.useRef(null),i=a.useRef([]),f=a.useState(tt),c=ne(f,2),l=c[0],d=c[1],m=function(w){d(tt),Yn(tt,l)||r==null||r({transform:tt,action:w})},u=function(w,N){o.current===null&&(i.current=[],o.current=qe(function(){d(function($){var C=$;return i.current.forEach(function(P){C=q(q({},C),P)}),o.current=null,r==null||r({transform:C,action:N}),C})})),i.current.push(q(q({},l),w))},S=function(w,N,$,C,P){var M=e.current,p=M.width,v=M.height,R=M.offsetWidth,x=M.offsetHeight,b=M.offsetLeft,y=M.offsetTop,j=w,I=l.scale*w;I>n?(I=n,j=n/l.scale):I<t&&(I=P?I:t,j=I/l.scale);var k=$??innerWidth/2,A=C??innerHeight/2,L=j-1,K=L*p*.5,oe=L*v*.5,ie=L*(k-l.x-b),X=L*(A-l.y-y),U=l.x-(ie-K),Q=l.y-(X-oe);if(w<1&&I===1){var re=R*I,se=x*I,z=tn(),le=z.width,J=z.height;re<=le&&se<=J&&(U=0,Q=0)}u({x:U,y:Q,scale:I},N)};return{transform:l,resetTransform:m,updateTransform:u,dispatchZoomChange:S}}function Gt(e,t,n,r){var o=t+n,i=(n-r)/2;if(n>r){if(t>0)return F({},e,i);if(t<0&&o<r)return F({},e,-i)}else if(t<0||o>r)return F({},e,t<0?i:-i);return{}}function sn(e,t,n,r){var o=tn(),i=o.width,f=o.height,c=null;return e<=i&&t<=f?c={x:0,y:0}:(e>i||t>f)&&(c=q(q({},Gt("x",n,e,i)),Gt("y",r,t,f))),c}var Ve=1,Br=1;function Vr(e,t,n,r,o,i,f){var c=o.rotate,l=o.scale,d=o.x,m=o.y,u=a.useState(!1),S=ne(u,2),h=S[0],w=S[1],N=a.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),$=function(v){!t||v.button!==0||(v.preventDefault(),v.stopPropagation(),N.current={diffX:v.pageX-d,diffY:v.pageY-m,transformX:d,transformY:m},w(!0))},C=function(v){n&&h&&i({x:v.pageX-N.current.diffX,y:v.pageY-N.current.diffY},"move")},P=function(){if(n&&h){w(!1);var v=N.current,R=v.transformX,x=v.transformY,b=d!==R&&m!==x;if(!b)return;var y=e.current.offsetWidth*l,j=e.current.offsetHeight*l,I=e.current.getBoundingClientRect(),k=I.left,A=I.top,L=c%180!==0,K=sn(L?j:y,L?y:j,k,A);K&&i(q({},K),"dragRebound")}},M=function(v){if(!(!n||v.deltaY==0)){var R=Math.abs(v.deltaY/100),x=Math.min(R,Br),b=Ve+x*r;v.deltaY>0&&(b=Ve/b),f(b,"wheel",v.clientX,v.clientY)}};return a.useEffect(function(){var p,v,R,x;if(t){R=Be(window,"mouseup",P,!1),x=Be(window,"mousemove",C,!1);try{window.top!==window.self&&(p=Be(window.top,"mouseup",P,!1),v=Be(window.top,"mousemove",C,!1))}catch{}}return function(){var b,y,j,I;(b=R)===null||b===void 0||b.remove(),(y=x)===null||y===void 0||y.remove(),(j=p)===null||j===void 0||j.remove(),(I=v)===null||I===void 0||I.remove()}},[n,h,d,m,c,t]),{isMoving:h,onMouseDown:$,onMouseMove:C,onMouseUp:P,onWheel:M}}function Fr(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function ln(e){var t=e.src,n=e.isCustomPlaceholder,r=e.fallback,o=a.useState(n?"loading":"normal"),i=ne(o,2),f=i[0],c=i[1],l=a.useRef(!1),d=f==="error";a.useEffect(function(){var h=!0;return Fr(t).then(function(w){!w&&h&&c("error")}),function(){h=!1}},[t]),a.useEffect(function(){n&&!l.current?c("loading"):d&&c("normal")},[t]);var m=function(){c("normal")},u=function(w){l.current=!1,f==="loading"&&w!==null&&w!==void 0&&w.complete&&(w.naturalWidth||w.naturalHeight)&&(l.current=!0,m())},S=d&&r?{src:r}:{onLoad:m,src:t};return[u,S,f]}function ot(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.hypot(n,r)}function Hr(e,t,n,r){var o=ot(e,n),i=ot(t,r);if(o===0&&i===0)return[e.x,e.y];var f=o/(o+i),c=e.x+f*(t.x-e.x),l=e.y+f*(t.y-e.y);return[c,l]}function Yr(e,t,n,r,o,i,f){var c=o.rotate,l=o.scale,d=o.x,m=o.y,u=a.useState(!1),S=ne(u,2),h=S[0],w=S[1],N=a.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),$=function(v){N.current=q(q({},N.current),v)},C=function(v){if(t){v.stopPropagation(),w(!0);var R=v.touches,x=R===void 0?[]:R;x.length>1?$({point1:{x:x[0].clientX,y:x[0].clientY},point2:{x:x[1].clientX,y:x[1].clientY},eventType:"touchZoom"}):$({point1:{x:x[0].clientX-d,y:x[0].clientY-m},eventType:"move"})}},P=function(v){var R=v.touches,x=R===void 0?[]:R,b=N.current,y=b.point1,j=b.point2,I=b.eventType;if(x.length>1&&I==="touchZoom"){var k={x:x[0].clientX,y:x[0].clientY},A={x:x[1].clientX,y:x[1].clientY},L=Hr(y,j,k,A),K=ne(L,2),oe=K[0],ie=K[1],X=ot(k,A)/ot(y,j);f(X,"touchZoom",oe,ie,!0),$({point1:k,point2:A,eventType:"touchZoom"})}else I==="move"&&(i({x:x[0].clientX-y.x,y:x[0].clientY-y.y},"move"),$({eventType:"move"}))},M=function(){if(n){if(h&&w(!1),$({eventType:"none"}),r>l)return i({x:0,y:0,scale:r},"touchZoom");var v=e.current.offsetWidth*l,R=e.current.offsetHeight*l,x=e.current.getBoundingClientRect(),b=x.left,y=x.top,j=c%180!==0,I=sn(j?R:v,j?v:R,b,y);I&&i(q({},I),"dragRebound")}};return a.useEffect(function(){var p;return n&&t&&(p=Be(window,"touchmove",function(v){return v.preventDefault()},{passive:!1})),function(){var v;(v=p)===null||v===void 0||v.remove()}},[n,t]),{isTouching:h,onTouchStart:C,onTouchMove:P,onTouchEnd:M}}var Wr=["fallback","src","imgRef"],Xr=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Gr=function(t){var n=t.fallback,r=t.src,o=t.imgRef,i=Me(t,Wr),f=ln({src:r,fallback:n}),c=ne(f,2),l=c[0],d=c[1];return _e.createElement("img",fe({ref:function(u){o.current=u,l(u)}},i,d))},cn=function(t){var n=t.prefixCls,r=t.src,o=t.alt,i=t.imageInfo,f=t.fallback,c=t.movable,l=c===void 0?!0:c,d=t.onClose,m=t.visible,u=t.icons,S=u===void 0?{}:u,h=t.rootClassName,w=t.closeIcon,N=t.getContainer,$=t.current,C=$===void 0?0:$,P=t.count,M=P===void 0?1:P,p=t.countRender,v=t.scaleStep,R=v===void 0?.5:v,x=t.minScale,b=x===void 0?1:x,y=t.maxScale,j=y===void 0?50:y,I=t.transitionName,k=I===void 0?"zoom":I,A=t.maskTransitionName,L=A===void 0?"fade":A,K=t.imageRender,oe=t.imgCommonProps,ie=t.toolbarRender,X=t.onTransform,U=t.onChange,Q=Me(t,Xr),re=a.useRef(),se=a.useContext(Ke),z=se&&M>1,le=se&&M>=1,J=a.useState(!0),H=ne(J,2),ce=H[0],O=H[1],Z=zr(re,b,j,X),Y=Z.transform,g=Z.resetTransform,T=Z.updateTransform,V=Z.dispatchZoomChange,ue=Vr(re,l,m,R,Y,T,V),de=ue.isMoving,ee=ue.onMouseDown,W=ue.onWheel,te=Yr(re,l,m,b,Y,T,V),ae=te.isTouching,G=te.onTouchStart,me=te.onTouchMove,Ie=te.onTouchEnd,he=Y.rotate,xe=Y.scale,ke=Ce(F({},"".concat(n,"-moving"),de));a.useEffect(function(){ce||O(!0)},[ce]);var He=function(){g("close")},Ye=function(){V(Ve+R,"zoomIn")},Se=function(){V(Ve/(Ve+R),"zoomOut")},be=function(){T({rotate:he+90},"rotateRight")},Ee=function(){T({rotate:he-90},"rotateLeft")},De=function(){T({flipX:!Y.flipX},"flipX")},Oe=function(){T({flipY:!Y.flipY},"flipY")},st=function(){g("reset")},We=function(Ne){var Ae=C+Ne;!Number.isInteger(Ae)||Ae<0||Ae>M-1||(O(!1),g(Ne<0?"prev":"next"),U==null||U(Ae,C))},lt=function(Ne){!m||!z||(Ne.keyCode===gt.LEFT?We(-1):Ne.keyCode===gt.RIGHT&&We(1))},Xe=function(Ne){m&&(xe!==1?T({x:0,y:0,scale:1},"doubleClick"):V(Ve+R,"doubleClick",Ne.clientX,Ne.clientY))};a.useEffect(function(){var ve=Be(window,"keydown",lt,!1);return function(){ve.remove()}},[m,z,C]);var Ge=_e.createElement(Gr,fe({},oe,{width:t.width,height:t.height,imgRef:re,className:"".concat(n,"-img"),alt:o,style:{transform:"translate3d(".concat(Y.x,"px, ").concat(Y.y,"px, 0) scale3d(").concat(Y.flipX?"-":"").concat(xe,", ").concat(Y.flipY?"-":"").concat(xe,", 1) rotate(").concat(he,"deg)"),transitionDuration:(!ce||ae)&&"0s"},fallback:f,src:r,onWheel:W,onMouseDown:ee,onDoubleClick:Xe,onTouchStart:G,onTouchMove:me,onTouchEnd:Ie,onTouchCancel:Ie})),Qe=q({url:r,alt:o},i);return _e.createElement(_e.Fragment,null,_e.createElement(Qn,fe({transitionName:k,maskTransitionName:L,closable:!1,keyboard:!0,prefixCls:n,onClose:d,visible:m,classNames:{wrapper:ke},rootClassName:h,getContainer:N},Q,{afterClose:He}),_e.createElement("div",{className:"".concat(n,"-img-wrapper")},K?K(Ge,q({transform:Y,image:Qe},se?{current:C}:{})):Ge)),_e.createElement(Lr,{visible:m,transform:Y,maskTransitionName:L,closeIcon:w,getContainer:N,prefixCls:n,rootClassName:h,icons:S,countRender:p,showSwitch:z,showProgress:le,current:C,count:M,scale:xe,minScale:b,maxScale:j,toolbarRender:ie,onActive:We,onZoomIn:Ye,onZoomOut:Se,onRotateRight:be,onRotateLeft:Ee,onFlipX:De,onFlipY:Oe,onClose:d,onReset:st,zIndex:Q.zIndex!==void 0?Q.zIndex+1:void 0,image:Qe}))},bt=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function Ur(e){var t=a.useState({}),n=ne(t,2),r=n[0],o=n[1],i=a.useCallback(function(c,l){return o(function(d){return q(q({},d),{},F({},c,l))}),function(){o(function(d){var m=q({},d);return delete m[c],m})}},[]),f=a.useMemo(function(){return e?e.map(function(c){if(typeof c=="string")return{data:{src:c}};var l={};return Object.keys(c).forEach(function(d){["src"].concat(Wn(bt)).includes(d)&&(l[d]=c[d])}),{data:l}}):Object.keys(r).reduce(function(c,l){var d=r[l],m=d.canPreview,u=d.data;return m&&c.push({data:u,id:l}),c},[])},[e,r]);return[f,i,!!e]}var Zr=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],qr=["src"],Kr=function(t){var n,r=t.previewPrefixCls,o=r===void 0?"rc-image-preview":r,i=t.children,f=t.icons,c=f===void 0?{}:f,l=t.items,d=t.preview,m=t.fallback,u=St(d)==="object"?d:{},S=u.visible,h=u.onVisibleChange,w=u.getContainer,N=u.current,$=u.movable,C=u.minScale,P=u.maxScale,M=u.countRender,p=u.closeIcon,v=u.onChange,R=u.onTransform,x=u.toolbarRender,b=u.imageRender,y=Me(u,Zr),j=Ur(l),I=ne(j,3),k=I[0],A=I[1],L=I[2],K=pt(0,{value:N}),oe=ne(K,2),ie=oe[0],X=oe[1],U=a.useState(!1),Q=ne(U,2),re=Q[0],se=Q[1],z=((n=k[ie])===null||n===void 0?void 0:n.data)||{},le=z.src,J=Me(z,qr),H=pt(!!S,{value:S,onChange:function(ae,G){h==null||h(ae,G,ie)}}),ce=ne(H,2),O=ce[0],Z=ce[1],Y=a.useState(null),g=ne(Y,2),T=g[0],V=g[1],ue=a.useCallback(function(te,ae,G,me){var Ie=L?k.findIndex(function(he){return he.data.src===ae}):k.findIndex(function(he){return he.id===te});X(Ie<0?0:Ie),Z(!0),V({x:G,y:me}),se(!0)},[k,L]);a.useEffect(function(){O?re||X(0):se(!1)},[O]);var de=function(ae,G){X(ae),v==null||v(ae,G)},ee=function(){Z(!1),V(null)},W=a.useMemo(function(){return{register:A,onPreview:ue}},[A,ue]);return a.createElement(Ke.Provider,{value:W},i,a.createElement(cn,fe({"aria-hidden":!O,movable:$,visible:O,prefixCls:o,closeIcon:p,onClose:ee,mousePosition:T,imgCommonProps:J,src:le,fallback:m,icons:c,minScale:C,maxScale:P,getContainer:w,current:ie,count:k.length,countRender:M,onTransform:R,toolbarRender:x,imageRender:b,onChange:de},y)))},Ut=0;function Qr(e,t){var n=a.useState(function(){return Ut+=1,String(Ut)}),r=ne(n,1),o=r[0],i=a.useContext(Ke),f={data:t,canPreview:e};return a.useEffect(function(){if(i)return i.register(o,f)},[]),a.useEffect(function(){i&&i.register(o,f)},[e,t]),o}var Jr=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],ea=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Rt=function(t){var n=t.src,r=t.alt,o=t.onPreviewClose,i=t.prefixCls,f=i===void 0?"rc-image":i,c=t.previewPrefixCls,l=c===void 0?"".concat(f,"-preview"):c,d=t.placeholder,m=t.fallback,u=t.width,S=t.height,h=t.style,w=t.preview,N=w===void 0?!0:w,$=t.className,C=t.onClick,P=t.onError,M=t.wrapperClassName,p=t.wrapperStyle,v=t.rootClassName,R=Me(t,Jr),x=d&&d!==!0,b=St(N)==="object"?N:{},y=b.src,j=b.visible,I=j===void 0?void 0:j,k=b.onVisibleChange,A=k===void 0?o:k,L=b.getContainer,K=L===void 0?void 0:L,oe=b.mask,ie=b.maskClassName,X=b.movable,U=b.icons,Q=b.scaleStep,re=b.minScale,se=b.maxScale,z=b.imageRender,le=b.toolbarRender,J=Me(b,ea),H=y??n,ce=pt(!!I,{value:I,onChange:A}),O=ne(ce,2),Z=O[0],Y=O[1],g=ln({src:n,isCustomPlaceholder:x,fallback:m}),T=ne(g,3),V=T[0],ue=T[1],de=T[2],ee=a.useState(null),W=ne(ee,2),te=W[0],ae=W[1],G=a.useContext(Ke),me=!!N,Ie=function(){Y(!1),ae(null)},he=Ce(f,M,v,F({},"".concat(f,"-error"),de==="error")),xe=a.useMemo(function(){var Se={};return bt.forEach(function(be){t[be]!==void 0&&(Se[be]=t[be])}),Se},bt.map(function(Se){return t[Se]})),ke=a.useMemo(function(){return q(q({},xe),{},{src:H})},[H,xe]),He=Qr(me,ke),Ye=function(be){var Ee=Un(be.target),De=Ee.left,Oe=Ee.top;G?G.onPreview(He,H,De,Oe):(ae({x:De,y:Oe}),Y(!0)),C==null||C(be)};return a.createElement(a.Fragment,null,a.createElement("div",fe({},R,{className:he,onClick:me?Ye:C,style:q({width:u,height:S},p)}),a.createElement("img",fe({},xe,{className:Ce("".concat(f,"-img"),F({},"".concat(f,"-img-placeholder"),d===!0),$),style:q({height:S},h),ref:V},ue,{width:u,height:S,onError:P})),de==="loading"&&a.createElement("div",{"aria-hidden":"true",className:"".concat(f,"-placeholder")},d),oe&&me&&a.createElement("div",{className:Ce("".concat(f,"-mask"),ie),style:{display:(h==null?void 0:h.display)==="none"?"none":void 0}},oe)),!G&&me&&a.createElement(cn,fe({"aria-hidden":!Z,visible:Z,prefixCls:l,onClose:Ie,mousePosition:te,src:H,alt:r,imageInfo:{width:u,height:S},fallback:m,getContainer:K,icons:U,movable:X,scaleStep:Q,minScale:re,maxScale:se,rootClassName:v,imageRender:z,imgCommonProps:xe,toolbarRender:le},J)))};Rt.PreviewGroup=Kr;var ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},na=function(t,n){return a.createElement(Fe,fe({},t,{ref:n,icon:ta}))},ra=a.forwardRef(na),aa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},oa=function(t,n){return a.createElement(Fe,fe({},t,{ref:n,icon:aa}))},ia=a.forwardRef(oa),sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},la=function(t,n){return a.createElement(Fe,fe({},t,{ref:n,icon:sa}))},Zt=a.forwardRef(la),ca={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ua=function(t,n){return a.createElement(Fe,fe({},t,{ref:n,icon:ca}))},da=a.forwardRef(ua),fa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},ma=function(t,n){return a.createElement(Fe,fe({},t,{ref:n,icon:fa}))},va=a.forwardRef(ma);const xt=e=>({position:e||"absolute",inset:0}),ga=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:o,prefixCls:i,colorTextLightSolid:f}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:f,background:new je("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},Xn),{padding:`0 ${ge(r)}`,[t]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},pa=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:r,marginXL:o,margin:i,paddingLG:f,previewOperationColorDisabled:c,previewOperationHoverColor:l,motionDurationSlow:d,iconCls:m,colorTextLightSolid:u}=e,S=new je(n).setAlpha(.1),h=S.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:u,backgroundColor:S.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:h.toRgbString()},[`& > ${m}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${ge(f)}`,backgroundColor:S.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${m}`]:{color:l},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:e.previewOperationSize}}}}},ha=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:r,previewCls:o,zIndexPopup:i,motionDurationSlow:f}=e,c=new je(t).setAlpha(.1),l=c.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${f}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},ba=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:o}=e;return[{[`${o}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},xt()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},xt()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[pa(e),ha(e)]}]},xa=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},ga(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},xt())}}},Sa=e=>{const{previewCls:t}=e;return{[`${t}-root`]:or(e,"zoom"),"&":ar(e,!0)}},wa=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new je(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new je(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new je(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),un=en("Image",e=>{const t=`${e.componentCls}-preview`,n=vt(e,{previewCls:t,modalMaskBg:new je("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[xa(n),ba(n),Jn(vt(n,{componentCls:t})),Sa(n)]},wa);var Ca=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const dn={rotateLeft:a.createElement(ra,null),rotateRight:a.createElement(ia,null),zoomIn:a.createElement(da,null),zoomOut:a.createElement(va,null),close:a.createElement(er,null),left:a.createElement(nr,null),right:a.createElement(rr,null),flipX:a.createElement(Zt,null),flipY:a.createElement(Zt,{rotate:90})},Ia=e=>{var{previewPrefixCls:t,preview:n}=e,r=Ca(e,["previewPrefixCls","preview"]);const{getPrefixCls:o}=a.useContext(wt),i=o("image",t),f=`${i}-preview`,c=o(),l=Ct(i),[d,m,u]=un(i,l),[S]=nn("ImagePreview",typeof n=="object"?n.zIndex:void 0),h=a.useMemo(()=>{var w;if(n===!1)return n;const N=typeof n=="object"?n:{},$=$e(m,u,l,(w=N.rootClassName)!==null&&w!==void 0?w:"");return Object.assign(Object.assign({},N),{transitionName:at(c,"zoom",N.transitionName),maskTransitionName:at(c,"fade",N.maskTransitionName),rootClassName:$,zIndex:S})},[n]);return d(a.createElement(Rt.PreviewGroup,Object.assign({preview:h,previewPrefixCls:f,icons:dn},r)))},Na=Ia;var qt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const fn=e=>{var t;const{prefixCls:n,preview:r,className:o,rootClassName:i,style:f}=e,c=qt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:l,locale:d=kt,getPopupContainer:m,image:u}=a.useContext(wt),S=l("image",n),h=l(),w=d.Image||kt.Image,N=Ct(S),[$,C,P]=un(S,N),M=$e(i,C,P,N),p=$e(o,C,u==null?void 0:u.className),[v]=nn("ImagePreview",typeof r=="object"?r.zIndex:void 0),R=a.useMemo(()=>{var b;if(r===!1)return r;const y=typeof r=="object"?r:{},{getContainer:j,closeIcon:I}=y,k=qt(y,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:a.createElement("div",{className:`${S}-mask-info`},a.createElement(Dn,null),w==null?void 0:w.preview),icons:dn},k),{getContainer:j??m,transitionName:at(h,"zoom",y.transitionName),maskTransitionName:at(h,"fade",y.maskTransitionName),zIndex:v,closeIcon:I??((b=u==null?void 0:u.preview)===null||b===void 0?void 0:b.closeIcon)})},[r,w,(t=u==null?void 0:u.preview)===null||t===void 0?void 0:t.closeIcon]),x=Object.assign(Object.assign({},u==null?void 0:u.style),f);return $(a.createElement(Rt,Object.assign({prefixCls:S,preview:R,rootClassName:M,className:p,style:x},c)))};fn.PreviewGroup=Na;var Ra={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},Ea=function(t,n){return a.createElement(Fe,fe({},t,{ref:n,icon:Ra}))},ya=a.forwardRef(Ea);const{Title:nt,Text:ze,Paragraph:mt}=dr;function Po({ayuda:e,donation:t,ayudaApplicant:n,assistanceReceived:r,needsDonations:o,needsVolunteer:i,volunteerOpportunities:f,userVolunteerApplications:c}){var O,Z,Y;const{data:l,setData:d,post:m,errors:u,processing:S}=mn({files:{},donation_id:"",donation_type:"money",amount:"",reference_number:"",receipt:null});Et().props;const[h,w]=a.useState({}),[N,$]=a.useState((n==null?void 0:n.status)||"not_applied"),[C,P]=a.useState((n==null?void 0:n.assistance_received)||!1),[M,p]=a.useState(!1),[v,R]=a.useState([]),[x,b]=a.useState(!1),[y,j]=a.useState(null),[I,k]=a.useState(!1),[A,L]=a.useState(""),[K,oe]=a.useState(!1);a.useEffect(()=>{n!=null&&n.status&&(n==null?void 0:n.status)!==N&&$(n.status),n!=null&&n.assistance_received&&P(!0)},[n]),a.useEffect(()=>{c&&c.length>0?oe(!0):oe(!1)},[c]);const ie=()=>{if(e!=null&&e.requirements&&e.requirements.length>0&&e.requirements.some(T=>!l.files[T.id])){ye.error("Please upload all required documents before applying.");return}m(route("ayudas.apply",e.id),{data:{files:l.files},onSuccess:()=>{$("pending"),ye.success("Applied successfully. You will be notified if approved.")},onError:()=>{ye.error("Failed to apply for the ayuda.")}})},X=g=>l.files[g]?s.jsx(pe,{icon:s.jsx($t,{}),type:"primary",children:"Uploaded"}):s.jsx(pe,{icon:s.jsx(Vt,{}),children:"Upload"}),U=({event:g})=>{const T=window.location.href,V=g.name,ue=[{name:"Facebook",icon:s.jsx(gr,{className:"text-xl"}),url:`https://www.facebook.com/sharer/sharer.php?u=${T}`,color:"bg-[#1877f2] hover:bg-[#166fe5]"},{name:"Twitter",icon:s.jsx(pr,{className:"text-xl"}),url:`https://twitter.com/intent/tweet?url=${T}&text=${V}`,color:"bg-[#1da1f2] hover:bg-[#1a94da]"},{name:"LinkedIn",icon:s.jsx(hr,{className:"text-xl"}),url:`https://www.linkedin.com/shareArticle?mini=true&url=${T}&title=${V}`,color:"bg-[#0a66c2] hover:bg-[#095fb8]"},{name:"WhatsApp",icon:s.jsx(br,{className:"text-xl"}),url:`https://wa.me/?text=${V}%20${T}`,color:"bg-[#25d366] hover:bg-[#22c35e]"}];return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Share This Event"}),s.jsx("div",{className:"flex gap-3",children:ue.map(de=>s.jsx("button",{onClick:()=>window.open(de.url,"_blank"),className:`${de.color} text-white p-3 rounded-full transition-all duration-300 transform hover:scale-110`,"aria-label":`Share on ${de.name}`,children:de.icon},de.name))})]})},Q=(g,T)=>{d("files",{...l.files,[g]:T});const V=new FileReader;V.onloadend=()=>{w(ue=>({...ue,[g]:V.result}))},T&&V.readAsDataURL(T)},re=async()=>{if(!l.amount||!l.reference_number){ye.error("Please fill in all required fields");return}b(!0);const g=new FormData;g.append("amount",l.amount),g.append("reference_number",l.reference_number),l.receipt&&g.append("receipt",l.receipt),m(route("ayudas.donate",e.id),{onSuccess:()=>{b(!1),p(!1),reset(),R([]),ye.success("Donation submitted successfully!")},onError:T=>{b(!1),Object.keys(T).forEach(V=>{ye.error(T[V])})}})},se=({fileList:g})=>{R(g),g.length>0?d("receipt",g[0].originFileObj):d("receipt",null)},z=()=>{if(!y){ye.error("Please select a volunteer position");return}m(route("ayudas.volunteer",e.id),{data:{volunteer_opportunity_id:y,notes:A},onSuccess:()=>{ye.success("Volunteer application submitted successfully!"),k(!1),j(null),L("")},onError:g=>{console.error("Volunteer submission error:",g),ye.error("Failed to submit volunteer application.")}})};a.useEffect(()=>{console.log("Volunteer Opportunities:",f)},[f]);const le=()=>C?s.jsx(pe,{type:"primary",disabled:!0,icon:s.jsx(ya,{}),style:{width:"100%"},children:"Assistance Received"}):N==="pending"?s.jsx(pe,{type:"primary",danger:!0,icon:s.jsx(Bt,{}),style:{width:"100%"},children:"Pending Approval"}):N==="approved"?s.jsx(pe,{type:"primary",disabled:!0,icon:s.jsx($t,{}),style:{width:"100%"},children:"Application Approved"}):s.jsx(pe,{type:"primary",onClick:ie,icon:s.jsx(Vt,{}),style:{width:"100%"},children:"Apply for Ayuda"}),J=()=>C?"completed":N==="approved"?"approved":N==="pending"?"pending":"not_applied",H=[{title:"Not Applied",status:"not_applied"},{title:"Pending",status:"pending"},{title:"Approved",status:"approved"},{title:"Completed",status:"completed"}],ce=H.findIndex(g=>g.status===J());return s.jsxs(gn,{user:Et().props.auth.user,children:[s.jsx(vn,{title:(e==null?void 0:e.title)||"Ayuda Details"}),s.jsxs(pn.Content,{className:"container mx-auto p-4",children:[s.jsxs(Le,{bordered:!1,className:"mb-6 overflow-hidden",cover:s.jsxs("div",{className:"relative h-[400px] w-full",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 z-10"}),s.jsx("img",{src:`/storage/${e.header}`,alt:"Event Banner",className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-center items-center text-white p-6",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-4",children:e.title}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-lg",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(bn,{}),new Date(e.assistance_date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(xn,{}),e.location]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(jt,{}),s.jsx(Sn,{count:`${e.max_beneficiaries-e.current_beneficiaries} Slots Left`,style:{backgroundColor:e.max_beneficiaries-e.current_beneficiaries>0?"#52c41a":"#ff4d4f",fontSize:"14px",padding:"0 8px"}})]})]})]})]}),children:[s.jsxs(Le,{className:"mb-6",bordered:!1,children:[s.jsx(nt,{level:4,children:"About this Ayuda Program"}),s.jsx(mt,{children:e==null?void 0:e.description}),s.jsxs(Ot,{gutter:[16,16],className:"mt-4",children:[s.jsx(Ze,{span:8,children:s.jsx(ut,{title:"Accepted Beneficiaries",value:e.current_beneficiaries||0,prefix:s.jsx(jt,{})})}),s.jsx(Ze,{span:8,children:s.jsx(ut,{title:"Duration",value:`${(e==null?void 0:e.duration)||1} days`,prefix:s.jsx(_n,{})})}),s.jsx(Ze,{span:8,children:s.jsx(ut,{title:"Status",value:e==null?void 0:e.status,valueStyle:{color:(e==null||e.status,"#52c41a")}})})]})]}),s.jsxs(Ot,{gutter:[24,24],children:[s.jsxs(Ze,{xs:24,lg:16,children:[s.jsx(Le,{className:"mb-6",bordered:!1,children:s.jsx(Pn,{current:ce,items:H.map(g=>({title:g.title,status:J()===g.status?"process":H.findIndex(T=>T.status===g.status)<ce?"finish":"wait"}))})}),s.jsxs(Le,{title:s.jsxs(yt,{children:[s.jsx(_t,{}),s.jsx("span",{children:"Requirements"})]}),className:"mb-6",bordered:!1,children:[s.jsx(Tn,{message:"Upload Guidelines",description:"Please upload all required documents to apply for this Ayuda. Accepted formats are: .jpg, .png, .pdf.",type:"info",showIcon:!0,icon:s.jsx(kn,{}),className:"mb-6"}),((O=e==null?void 0:e.requirements)==null?void 0:O.length)>0?s.jsx(Pt,{className:"mt-4",children:e.requirements.map(g=>s.jsx(Pt.Item,{dot:s.jsx(_t,{className:"text-blue-500"}),children:s.jsxs(Le,{className:"mb-4",size:"small",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ze,{strong:!0,children:g.requirement_name}),s.jsx(ze,{type:"secondary",className:"block mt-1",children:"Required document"})]}),s.jsx(Tt,{beforeUpload:T=>(Q(g.id,T),!1),maxCount:1,fileList:l.files[g.id]?[l.files[g.id]]:[],onRemove:()=>Q(g.id,null),showUploadList:!1,children:X(g.id)})]}),h[g.id]&&s.jsx(fn,{src:h[g.id],alt:"Preview",className:"mt-4",width:200}),u&&u[`files.${g.id}`]&&s.jsx(ze,{type:"danger",className:"mt-2",children:u[`files.${g.id}`]})]})},g.id))}):s.jsx(At,{description:"No requirements needed"})]}),s.jsx(U,{event:e})]}),s.jsx(Ze,{xs:24,lg:8,children:s.jsxs(Le,{bordered:!1,className:"sticky top-24",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(nt,{level:4,children:"Application Status"}),le()]}),s.jsx(Je,{}),s.jsxs("div",{className:"mb-6",children:[s.jsx(nt,{level:4,children:"Support this Program"}),o&&s.jsxs(s.Fragment,{children:[s.jsx(ir,{percent:Math.round((e==null?void 0:e.donation_raised)/((Z=e==null?void 0:e.donation)==null?void 0:Z.goal)*100),status:"active",className:"mb-4"}),s.jsxs(mt,{className:"text-center",children:[s.jsxs(ze,{strong:!0,children:["₱",e==null?void 0:e.donation_raised]})," raised of"," ",s.jsxs(ze,{strong:!0,children:["₱",(Y=e==null?void 0:e.donation)==null?void 0:Y.goal]})," goal"]}),s.jsx(pe,{type:"primary",icon:s.jsx(sr,{}),onClick:()=>p(!0),block:!0,children:"Donate Now"})]})]}),s.jsx(Je,{}),s.jsxs("div",{children:[s.jsx(nt,{level:4,children:"Volunteer Opportunities"}),i?s.jsxs(s.Fragment,{children:[s.jsxs(mt,{children:[s.jsx(ze,{strong:!0,children:e==null?void 0:e.volunteer_slots})," slots available"]}),K?s.jsx(pe,{block:!0,disabled:!0,icon:s.jsx(Bt,{}),children:"Application Pending"}):s.jsx(pe,{type:"primary",icon:s.jsx(lr,{}),onClick:()=>k(!0),block:!0,children:"Apply to Volunteer"})]}):s.jsx(At,{description:"No volunteer opportunities available"})]})]})})]})]}),s.jsx(Je,{}),s.jsx(Dt,{title:"Make a Donation",open:M,onCancel:()=>{p(!1),reset(),R([])},footer:[s.jsx(pe,{onClick:()=>{p(!1),reset(),R([])},children:"Cancel"},"cancel"),s.jsx(pe,{type:"primary",onClick:re,loading:x,disabled:!l.amount||!l.reference_number||x,children:"Confirm Donation"},"submit")],children:s.jsxs(et,{layout:"vertical",children:[s.jsx(et.Item,{label:"Donation Amount",required:!0,validateStatus:!l.amount&&"error",help:!l.amount&&"Please enter donation amount",children:s.jsx(on,{placeholder:"Enter Donation Amount",value:l.amount,onChange:g=>d("amount",g),min:1,className:"w-full",formatter:g=>`₱ ${g}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:g=>g.replace(/₱\s?|(,*)/g,"")})}),s.jsx(et.Item,{label:"GCash Reference Number",required:!0,validateStatus:!l.reference_number&&"error",help:!l.reference_number&&"Please enter reference number",children:s.jsx(Ft,{placeholder:"Enter GCash Reference Number",value:l.reference_number,onChange:g=>d("reference_number",g.target.value)})}),s.jsx(et.Item,{label:"Upload Receipt",validateStatus:v.length===0&&"warning",help:"Optional: Upload receipt for verification",children:s.jsx(Tt,{listType:"picture-card",fileList:v,onChange:se,beforeUpload:()=>!1,maxCount:1,children:v.length>=1?null:s.jsxs("div",{children:[s.jsx(hn,{}),s.jsx("div",{className:"mt-2",children:"Upload Receipt"})]})})})]})}),s.jsx(Je,{}),s.jsx(Dt,{title:"Volunteer Application",open:I,onCancel:()=>k(!1),onOk:z,footer:[s.jsx(pe,{onClick:()=>k(!1),children:"Cancel"},"cancel"),s.jsx(pe,{type:"primary",onClick:z,disabled:!y||x,children:"Apply"},"submit")],children:s.jsxs(yt,{direction:"vertical",style:{width:"100%"},children:[s.jsx(Lt,{style:{width:"100%"},placeholder:"Select a volunteer position",value:y,onChange:g=>j(g),children:f==null?void 0:f.map(g=>s.jsxs(Lt.Option,{value:g.id,children:[g.role_title," (",g.slots," slots)"]},g.id))}),s.jsx(Ft.TextArea,{placeholder:"Why would you like to volunteer? (Optional)",value:A,onChange:g=>L(g.target.value),rows:4})]})})]})]})}export{Po as default};
