import{r as o,W as R,j as t}from"./app-DbgwDCQR.js";import{F as p}from"./index-2bkOm2FA.js";import{R as S,C as O}from"./row-CmTRvdGv.js";import{I as A}from"./index-DZ6KHcTM.js";import{B as T}from"./button-BeIDC77s.js";import{I as V,_ as z}from"./KeyCode-B98qwEHk.js";import{T as B}from"./index-DusIXW1R.js";import"./responsiveObserver-2YMebKjr.js";import"./asyncToGenerator-1ZsjUJVg.js";import"./index-BFTNhID1.js";import"./collapse-BbEVqHco.js";import"./index-CoGEig71.js";import"./compact-item-e1NxggHa.js";import"./useZIndex-tLrB1ewf.js";import"./colors-DJ9azOgj.js";import"./CheckCircleFilled-CqKSgjp8.js";import"./ExclamationCircleFilled-DEhqqzrm.js";import"./EyeOutlined-DhfopHHq.js";import"./render-BXyLa_zz.js";import"./EditOutlined-CcOrQ41O.js";var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},E=function(c,s){return o.createElement(V,z({},c,{ref:s,icon:D}))},L=o.forwardRef(E);const{Title:F,Text:d,Link:H}=B;function st(){const{data:y,setData:c,post:s,processing:v,errors:m}=R({otp:""}),[i,j]=o.useState(new Array(6).fill("")),[h,f]=o.useState(!1),[b,x]=o.useState(30),a=o.useRef([]),w=(r,e)=>{var g;const{value:n}=r;if(isNaN(n))return;let l=[...i];l[e]=n,j(l),c("otp",l.join("")),n&&e<a.current.length-1&&((g=a.current[e+1])==null||g.focus())},k=(r,e)=>{var n;r.key==="Backspace"&&i[e]===""&&e>0&&((n=a.current[e-1])==null||n.focus())},C=()=>{s(route("otp.check"))},I=()=>{if(!h){s(route("otp.resend")),f(!0),x(30);const r=setInterval(()=>{x(e=>e===1?(clearInterval(r),f(!1),30):e-1)},1e3)}};return t.jsx("div",{style:u.container,children:t.jsxs("div",{style:u.innerContainer,children:[t.jsx(F,{level:3,style:{textAlign:"center"},children:"Account Verification"}),t.jsx(d,{type:"secondary",style:{display:"block",textAlign:"center",marginBottom:"20px"},children:"Enter the 6-Digit PIN sent to your registered Email"}),t.jsxs(p,{onFinish:C,layout:"vertical",children:[t.jsxs(p.Item,{children:[t.jsx(S,{gutter:8,justify:"center",children:i.map((r,e)=>t.jsx(O,{span:4,children:t.jsx(A,{maxLength:1,style:u.otpInput,value:i[e],ref:n=>a.current[e]=n,onChange:n=>w(n.target,e),onKeyDown:n=>k(n,e),onFocus:n=>n.target.select()})},e))}),m.otp&&t.jsx(d,{type:"danger",children:m.otp})]}),t.jsx(p.Item,{children:t.jsx(T,{type:"primary",htmlType:"submit",block:!0,icon:t.jsx(L,{}),loading:v,children:"Submit"})})]}),t.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:t.jsxs(d,{type:"secondary",children:["Didnâ€™t receive the code?"," ",h?t.jsxs("span",{children:["Resend available in ",b," seconds"]}):t.jsx(H,{onClick:I,children:"Send again"})]})})]})})}const u={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f0f2f5"},innerContainer:{width:"100%",maxWidth:"400px",padding:"20px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},otpInput:{textAlign:"center",fontSize:"24px",padding:"8px",borderRadius:"12px",border:"1px solid #d9d9d9",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}};export{st as default};
