import{q as u,e as p,j as e,a as g}from"./app-B53CBMZt.js";import{d as f}from"./index-BaRqkTw3.js";import{A as k,M as y}from"./AuthenticatedLayout--G9xcrQg.js";import{C}from"./index-BDnPJQKA.js";import{B as m,T as M}from"./index-CJkcEAEE.js";import"./index-D0YGKa_Y.js";import"./PlusOutlined-CRPGJOWz.js";const{Text:S,Paragraph:_}=M,T=()=>{var l,d,i,c;const{notifications:r}=u().props,[a,t]=p.useState(null),[h,n]=p.useState(!1),x=s=>{f.Inertia.post("/notifications/mark-as-read",{notificationIds:s})},j=s=>{t(s),n(!0)},o=()=>{n(!1),t(null)};return e.jsx(k,{children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{children:"Your Notifications"}),r.length===0&&e.jsx("p",{children:"You have no new notifications."}),r.map(s=>e.jsxs(C,{className:"mb-3",hoverable:!0,style:{marginBottom:"16px"},title:e.jsx(g,{href:`/announcements/${s.data.announcement_id}`,children:s.data.title}),extra:e.jsx(m,{size:"small",type:"primary",onClick:()=>x([s.id]),children:"Mark as Read"}),onClick:()=>j(s),children:[e.jsx(_,{ellipsis:{rows:2,expandable:!1},children:s.data.message}),e.jsx(S,{type:"secondary",children:new Date(s.created_at).toLocaleString()})]},s.id)),e.jsxs(y,{title:(l=a==null?void 0:a.data)==null?void 0:l.title,open:h,onCancel:o,footer:[e.jsx(m,{onClick:o,children:"Close"},"close")],children:[e.jsx("p",{children:(d=a==null?void 0:a.data)==null?void 0:d.message}),e.jsx("a",{href:(i=a==null?void 0:a.data)==null?void 0:i.action_url,target:"_blank",rel:"noopener noreferrer",children:(c=a==null?void 0:a.data)==null?void 0:c.description}),e.jsx("small",{children:a&&new Date(a.created_at).toLocaleString()})]})]})})};export{T as default};
