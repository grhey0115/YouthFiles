import{q as w,r as d,j as e,Y as L,a as F}from"./app-DbgwDCQR.js";import{A as q,S as r,R as C}from"./AuthenticatedLayout-wAnVCWe8.js";import{R as B,C as S}from"./row-CmTRvdGv.js";import{C as c,T as j}from"./index-aEjf0pBo.js";import{R as I}from"./CalendarOutlined-CJm5NcVw.js";import{P as M,L as f,E as m}from"./index-Dr5FKUpM.js";import{B as z}from"./HomeOutlined-C7PNhMil.js";import{B as o}from"./button-BeIDC77s.js";import{P as N,A as k}from"./index-BDhiJVo3.js";import{R as U}from"./ShareAltOutlined-CYQRv0rF.js";import{R as v}from"./FileTextOutlined-Dm1tE5II.js";import{R as G}from"./EnvironmentOutlined-DepYESSt.js";import{T as P}from"./index-CXb-UgcJ.js";import{R as K}from"./UserOutlined-CN0QnvMs.js";import{R as O}from"./DollarCircleOutlined-I9hvtHIE.js";import{T as V}from"./index-DusIXW1R.js";import{T as p}from"./index-CoGEig71.js";import{R as W,a as Y,b as H,c as J}from"./WhatsAppOutlined-DaeEyyik.js";import"./asyncToGenerator-1ZsjUJVg.js";import"./KeyCode-B98qwEHk.js";import"./EllipsisOutlined-DDu3pgoy.js";import"./index-BFTNhID1.js";import"./collapse-BbEVqHco.js";import"./useZIndex-tLrB1ewf.js";import"./SettingOutlined-DkPiynSm.js";import"./compact-item-e1NxggHa.js";import"./PurePanel-DY_vS5pl.js";import"./index-CoH_l0tO.js";import"./render-BXyLa_zz.js";import"./CheckCircleFilled-CqKSgjp8.js";import"./ExclamationCircleFilled-DEhqqzrm.js";import"./InfoCircleFilled-DCKnBfB8.js";import"./CloseOutlined-DIR-yomB.js";import"./useClosable-BI8GR9gs.js";import"./Skeleton-CDkIKx5f.js";import"./responsiveObserver-2YMebKjr.js";import"./fade-DyWzk-Bk.js";import"./useBreakpoint-B1vn5vaL.js";import"./index-CUWDS_la.js";import"./colors-DJ9azOgj.js";import"./EditOutlined-CcOrQ41O.js";const{Title:Be,Text:n,Paragraph:Q}=V,Me=()=>{const{openAyudas:g,closedAyudas:T,topDonators:h}=w().props,[u,$]=d.useState(1);d.useState(null),d.useState(!1);const x=8,a=(t,s)=>{const i=window.location.origin+route("ayuda.show",t.id),l=encodeURIComponent(t.title);encodeURIComponent(t.description);const y={facebook:`https://www.facebook.com/sharer/sharer.php?u=${i}`,twitter:`https://twitter.com/intent/tweet?text=${l}&url=${i}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${i}`,whatsapp:`https://api.whatsapp.com/send?text=${l}%20${i}`};window.open(y[s],"_blank","width=600,height=400")},D=t=>e.jsxs(r,{children:[e.jsx(p,{title:"Share on Facebook",children:e.jsx(o,{type:"text",icon:e.jsx(W,{}),onClick:()=>a(t,"facebook"),className:"text-blue-600 hover:text-blue-700"})}),e.jsx(p,{title:"Share on Twitter",children:e.jsx(o,{type:"text",icon:e.jsx(Y,{}),onClick:()=>a(t,"twitter"),className:"text-sky-500 hover:text-sky-600"})}),e.jsx(p,{title:"Share on LinkedIn",children:e.jsx(o,{type:"text",icon:e.jsx(H,{}),onClick:()=>a(t,"linkedin"),className:"text-blue-700 hover:text-blue-800"})}),e.jsx(p,{title:"Share on WhatsApp",children:e.jsx(o,{type:"text",icon:e.jsx(J,{}),onClick:()=>a(t,"whatsapp"),className:"text-green-500 hover:text-green-600"})})]}),A=t=>{var s;return e.jsx(c,{size:"small",className:"mb-4",children:e.jsxs(r,{direction:"vertical",className:"w-full",children:[e.jsxs(r,{children:[e.jsx(v,{}),e.jsx(n,{strong:!0,children:"Requirements:"})]}),e.jsx("ul",{className:"list-disc pl-8",children:(s=t.requirements)==null?void 0:s.map((i,l)=>e.jsx("li",{className:"text-gray-600",children:e.jsxs(r,{children:[e.jsx(C,{className:"text-green-500"}),e.jsx(n,{children:i})]})},l))})]})})},b=t=>e.jsx(z.Ribbon,{text:t.max_beneficiaries-t.current_beneficiaries>0?`${t.max_beneficiaries-t.current_beneficiaries} Slots Left`:"Full",color:t.max_beneficiaries-t.current_beneficiaries>0?"green":"red",placement:"start",children:e.jsx(c,{hoverable:!0,className:"h-full",cover:e.jsx("img",{className:"h-48 object-cover",src:`/storage/${t.header}`,alt:t.title}),actions:[e.jsx(F,{href:route("ayuda.show",t.id),children:e.jsx(o,{type:"primary",block:!0,children:"View Details"})}),e.jsx(N,{content:D(t),title:"Share this assistance",trigger:"click",children:e.jsx(o,{icon:e.jsx(U,{}),children:"Share"})}),e.jsx(N,{content:A(t),title:"Requirements",trigger:"click",placement:"bottom",children:e.jsx(o,{icon:e.jsx(v,{}),children:"Requirements"})})],children:e.jsx(c.Meta,{title:t.title,description:e.jsxs(r,{direction:"vertical",className:"w-full",children:[e.jsxs(r,{children:[e.jsx(I,{}),e.jsx(n,{children:new Date(t.assistance_date).toLocaleDateString()})]}),e.jsxs(r,{children:[e.jsx(G,{}),e.jsx(n,{children:t.location||"Online"})]}),e.jsx(Q,{ellipsis:{rows:2},children:t.description}),e.jsx(P,{color:"blue",children:t.category})]})})})},t.id),E=t=>{$(t)},R=t=>{const s=(u-1)*x,i=s+x;return t.slice(s,i)},_=()=>e.jsx(c,{title:"Top Donators",className:"sticky top-24",children:h&&h.length>0?e.jsx(f,{dataSource:h,renderItem:(t,s)=>e.jsx(f.Item,{children:e.jsx(f.Item.Meta,{avatar:e.jsxs(r,{children:[e.jsx(k,{src:t.avatar_url,icon:e.jsx(K,{}),size:"large",style:{border:s===0?"2px solid #FFD700":s===1?"2px solid #C0C0C0":s===2?"2px solid #CD7F32":"none"}}),e.jsx(k,{style:{backgroundColor:s===0?"#FFD700":s===1?"#C0C0C0":s===2?"#CD7F32":"#f0f0f0",marginLeft:-15,marginTop:15,width:22,height:22,fontSize:12,display:"flex",alignItems:"center",justifyContent:"center"},children:s+1})]}),title:e.jsxs(r,{children:[e.jsx(n,{strong:!0,children:t.name}),s<3&&e.jsx(P,{color:s===0?"gold":s===1?"default":"orange",children:s===0?"Top Donor":s===1?"2nd Place":"3rd Place"})]}),description:e.jsxs(n,{type:"secondary",children:["Donated: â‚±",t.amount.toLocaleString()]})})}),locale:{emptyText:e.jsx(m,{image:m.PRESENTED_IMAGE_SIMPLE,description:"No donations yet"})}}):e.jsx(m,{description:"Be the first to donate!",image:m.PRESENTED_IMAGE_SIMPLE,children:e.jsx(o,{type:"primary",icon:e.jsx(O,{}),children:"Donate Now"})})});return e.jsxs(q,{user:w().props.auth,children:[e.jsx(L,{title:"Ayuda"}),e.jsx("div",{className:"container mx-auto py-6",children:e.jsxs(B,{gutter:24,children:[e.jsx(S,{xs:24,lg:18,children:e.jsxs(c,{className:"mb-6",children:[e.jsxs(j,{defaultActiveKey:"1",type:"card",children:[e.jsx(j.TabPane,{tab:e.jsxs(r,{children:[e.jsx(I,{}),"Upcoming Assistance"]}),children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:R(g).map(t=>e.jsx("div",{children:b(t)},t.id))})},"1"),e.jsx(j.TabPane,{tab:e.jsxs(r,{children:[e.jsx(C,{}),"Past Assistance"]}),children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:R(T).map(t=>e.jsx("div",{children:b(t)},t.id))})},"2")]}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx(M,{current:u,pageSize:x,total:g.length,onChange:E,showSizeChanger:!1})})]})}),e.jsx(S,{xs:24,lg:6,children:_()})]})})]})};export{Me as default};
